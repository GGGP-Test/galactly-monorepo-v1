<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Galactly — Packaging Leads (Free) + Money Maker AI</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
<style>
:root{
  --ink:#fff;--mut:#aeb6c6;--line:rgba(255,255,255,.12);--card:#0b0e18;--card2:#0a0f1f;
  --accent:#86f7d6;--accent2:#57a4ff;--bad:#ff8a8a;--good:#8bffb7;
  --mont:Montserrat,Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;
  --inter:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;color:var(--ink);font-family:var(--inter);line-height:1.55;background:linear-gradient(180deg,#0b0e18,#06070c 55%)}
header{position:sticky;top:0;z-index:40;backdrop-filter:blur(10px) saturate(1.05);background:rgba(5,7,12,.55);border-bottom:1px solid var(--line)}
.nav{max-width:1240px;margin:auto;padding:10px 18px;display:flex;align-items:center;justify-content:space-between}
.brand{display:flex;align-items:center;gap:10px;color:#fff;text-decoration:none}
.brand svg{width:26px;height:26px}.brand b{font:800 16px var(--mont)}
nav a{color:#fff;text-decoration:none;padding:8px 10px;border-radius:12px}
nav a:hover{background:rgba(255,255,255,.06)}

.hero{position:relative;border-bottom:1px solid var(--line)}
.wrap{max-width:1240px;margin:auto;display:grid;grid-template-columns:1fr min(780px,52%);gap:44px;align-items:center;padding:44px 28px}
@media (max-width:1100px){.wrap{grid-template-columns:1fr}}
.copy h1{font:800 clamp(30px,6vw,60px) var(--mont);line-height:1.05;margin:0 0 12px}
.copy .accent{background:linear-gradient(90deg,var(--accent),var(--accent2));-webkit-background-clip:text;background-clip:text;color:transparent}
.copy p{opacity:.94;margin:16px 0 0}.copy .sub{opacity:.86;font-size:14px;margin-top:12px}
.copy .cta{display:flex;gap:14px;margin-top:28px;flex-wrap:wrap}
.btn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);padding:12px 18px;border-radius:14px;text-decoration:none;font:800 14px var(--inter);transition:transform .08s ease, box-shadow .18s ease, background .18s ease,color .18s ease}
.btn--primary{background:linear-gradient(90deg,#ffffff,#e9f0ff);color:#0b0c12;border-color:transparent;box-shadow:0 10px 30px rgba(120,160,255,.18), inset 0 0 0 1px rgba(255,255,255,.35)}
.btn--primary:hover{transform:translateY(-1px);box-shadow:0 14px 36px rgba(120,160,255,.28), inset 0 0 0 1px rgba(255,255,255,.5)}
.btn--ghost{background:rgba(255,255,255,.06);color:#fff;border-color:rgba(255,255,255,.18)}
.btn--ghost:hover{background:rgba(255,255,255,.10)}
.btn svg{width:16px;height:16px;vertical-align:-2px}

/* Pool */
.section{max-width:1240px;margin:28px auto;padding:0 28px}
.h2{font:800 22px var(--mont);margin:0 0 12px}
.pool{display:grid;grid-template-columns:1fr 320px;gap:16px}
@media (max-width:1100px){.pool{grid-template-columns:1fr}}
.card{background:linear-gradient(180deg,var(--card),var(--card2));border:1px solid var(--line);border-radius:16px}
.controls{display:flex;gap:8px;flex-wrap:wrap;padding:12px}
.controls input, .controls select, .controls button{padding:10px 12px;border-radius:12px;border:1px solid var(--line);background:#0f142b;color:#fff}
.controls .grow{flex:1}
.list{margin:0;padding:0;list-style:none}
.item{padding:12px;border-top:1px dashed rgba(255,255,255,.06)}
.item:first-child{border-top:none}
.item a{color:#86f7d6;text-decoration:none}
.badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.badge{border:1px solid var(--line);border-radius:999px;padding:3px 8px;font:700 11px var(--mont);opacity:.85}
.badge.hot{border-color:rgba(255,200,87,.55);background:rgba(255,200,87,.08)}
.badge.sam{border-color:rgba(87,164,255,.55);background:rgba(87,164,255,.08)}
.meta{opacity:.8;font-size:12px;margin-top:6px}

.side{padding:12px 12px 16px}
.side .box{border:1px dashed var(--line);border-radius:14px;padding:12px;margin-top:10px}
.side b{font:800 13px var(--mont)}
.side small{opacity:.85}

/* Gate */
.gate{position:fixed;inset:0;background:rgba(0,0,0,.75);display:none;align-items:center;justify-content:center;padding:20px;z-index:50}
.gate .pane{width:min(560px,96vw);background:linear-gradient(180deg,#0c0f19,#0a0e18);border:1px solid var(--line);border-radius:16px;padding:18px}
.gate h3{margin:0 0 8px;font:800 22px var(--mont)}
.gate p{opacity:.9;margin:0 0 12px}
.form{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.form input,.form select{padding:12px;border-radius:12px;border:1px solid var(--line);background:#0f142b;color:#fff}
.form button{grid-column:1/-1}

.hint{margin-top:8px;font-size:12px;opacity:.8}
</style>
</head>
<body>
<header>
  <div class="nav">
    <a class="brand" href="#">
      <svg viewBox="0 0 64 64" aria-hidden="true">
        <defs><linearGradient id="g" x1="0" x2="1"><stop stop-color="#86f7d6"/><stop offset="1" stop-color="#57a4ff"/></linearGradient></defs>
        <circle cx="32" cy="32" r="30" fill="black" stroke="white" stroke-opacity=".12" stroke-width="2"/>
        <path d="M12 36c8 8 18 12 28 12 4 0 8-1 12-2" stroke="url(#g)" stroke-width="4" fill="none"/>
        <circle cx="20" cy="20" r="6" fill="url(#g)"/>
      </svg>
      <b>Galactly</b>
    </a>
    <nav>
      <a href="#pool">Live pool</a>
      <a href="#mm">Money Maker AI</a>
    </nav>
  </div>
</header>

<section class="hero" id="hero">
  <div class="wrap">
    <div class="copy">
      <h1>Find US & Canada <span class="accent">Packaging</span> Buyers in <span class="accent">&lt;30s</span></h1>
      <p>Real posts & tenders from public feeds. Free forever. Priority access, automations & CRM handoff are paid.</p>
      <p class="sub">Built for packaging owners & sales teams. Outputs: Quote • Email • SMS • Call • LinkedIn DM • ERP updates. No coding — just clicks.</p>
      <div class="cta">
        <a class="btn btn--primary" href="#pool">Open the Live Pool</a>
        <a class="btn btn--ghost" href="#mm">See Money Maker AI</a>
      </div>
    </div>
    <div class="card" style="padding:16px">
      <div style="font:800 14px var(--mont);margin-bottom:8px">What happens every 30 seconds</div>
      <ul class="list" id="ticker" style="max-height:260px;overflow:auto"></ul>
    </div>
  </div>
</section>

<section class="section" id="pool">
  <div class="h2">Live Leads Pool (free)</div>
  <div class="pool">
    <div class="card">
      <div class="controls">
        <input id="q" class="grow" placeholder="Try: packaging buyer RFP OR RFQ OR tender (United States OR Canada)"/>
        <select id="type"><option value="web">web</option><option value="linkedin">linkedin</option><option value="youtube">youtube</option></select>
        <label style="display:flex;gap:6px;align-items:center"><input id="hotOnly" type="checkbox" checked/> hot only</label>
        <button id="searchBtn">Search</button>
      </div>
      <ul class="list" id="list"></ul>
    </div>

    <aside class="card side">
      <div class="box">
        <b>How the free pool works</b><br/>
        <small>We scan public signals and surface the <i>intent</i> ones (RFQ, buying now, procurement). Everyone sees these for free. Paid users get <u>first pick</u>, auto-outreach and CRM/ERP handoff.</small>
      </div>
      <div class="box">
        <b>Ready to win more deals?</b>
        <ul style="margin:8px 0 0 18px;opacity:.9">
          <li>Priority access to hot leads</li>
          <li>1‑click email / SMS / call / LinkedIn</li>
          <li>Auto‑quote & AI closer (handoff to rep)</li>
        </ul>
        <button class="btn btn--primary" style="margin-top:10px;width:100%" onclick="alert('Coming soon — we'll enable checkout next')">Upgrade (coming soon)</button>
      </div>
      <div class="box">
        <b>List your plant (free)</b><br/>
        <small>Let buyers find you by capability. Shows in the pool as inbound opportunities.</small>
        <button class="btn btn--ghost" style="margin-top:10px;width:100%" onclick="openGate()">Add my business</button>
      </div>
    </aside>
  </div>
</section>

<section class="section" id="mm">
  <div class="h2">Money Maker AI (paid)</div>
  <div class="card" style="padding:12px 12px 2px">
    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px">
      <div class="box"><b>Leads per 30s</b><div id="k-leads">0</div></div>
      <div class="box"><b>Hot filtered</b><div id="k-hot">0</div></div>
      <div class="box"><b>AI/Rep closes</b><div id="k-close">0 / 0</div></div>
    </div>
    <div class="hint">This is a visual summary. Upgrading unlocks priority feed + automations (email/SMS/call/quote) and AI closer.
    </div>
  </div>
</section>

<!-- Opt‑in / gate overlay -->
<div class="gate" id="gate">
  <div class="pane">
    <h3>Dial in your feed</h3>
    <p>Tell us where you sell so we can put the right buyers in front of you. Free forever. You can opt‑out anytime.</p>
    <div class="form">
      <input id="email" placeholder="work email (for alerts)"/>
      <select id="region">
        <option value="US">United States</option>
        <option value="Canada">Canada</option>
        <option value="Other">Other</option>
      </select>
      <button class="btn btn--primary" onclick="saveGate()">Save & show leads</button>
    </div>
    <div class="hint">We only use your email to send you alerts you opt into. No spam, ever.</div>
  </div>
</div>

<script src="./api-base.js"></script>
<script>
// ---------- tiny state ----------
const $ = s => document.querySelector(s);
const list = $('#list');
const ticker = $('#ticker');
const INTENT = ['rfp','rfq','request for quote','request for proposal','tender','bid','buying','procurement','sourcing','need supplier','quote'];
const SAM_HINT = ['sam.gov','beta.sam.gov'];
const DEFAULT_Q = 'packaging (buyer OR procurement OR sourcing OR RFP OR RFQ OR tender) (United States OR Canada)';

function pushTick(html){const d=document.createElement('li');d.className='item';d.innerHTML=html;ticker.insertBefore(d,ticker.firstChild);while(ticker.children.length>6)ticker.lastElementChild.remove()}

// ---------- onboard gate ----------
function openGate(){ $('#gate').style.display='flex'; }
function maybeGate(){
  try{ const v=JSON.parse(localStorage.getItem('gal_onboard')||'{}'); if(v && v.region){ return; } }catch{}
  openGate();
}
async function saveGate(){
  const email = $('#email').value.trim();
  const region = $('#region').value;
  localStorage.setItem('gal_onboard', JSON.stringify({email,region,ts:Date.now()}));
  try{ await fetch('/api/v1/gate',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({email,region,alerts:!!email})}); }catch{}
  $('#gate').style.display='none';
  doSearch();
}

// ---------- hot score ----------
function scoreItem(it){
  const title=(it.title||'').toLowerCase();
  const sn=(it.snippet||'').toLowerCase();
  const host=(it.displayLink||it.url||'').toLowerCase();
  let s=0; INTENT.forEach(k=>{ if(title.includes(k)||sn.includes(k)) s+=3; });
  SAM_HINT.forEach(k=>{ if(host.includes(k)) s+=6; });
  if(host.includes('linkedin.com')) s+=2;
  if(host.includes('reddit.com')) s+=1;
  return s;
}

// ---------- search / render ----------
async function doSearch(){
  const qVal = ($('#q').value||'').trim() || DEFAULT_Q;
  const type = $('#type').value;
  const hotOnly = $('#hotOnly').checked;
  $('#searchBtn').disabled = true; $('#searchBtn').textContent = 'Searching…';
  try{
    const res = await fetch(`/api/v1/peek?q=${encodeURIComponent(qVal)}&type=${encodeURIComponent(type)}&limit=10`);
    const data = await res.json();
    const items = Array.isArray(data.items)?data.items:[];
    // score & sort
    const enriched = items.map(it=>({ ...it, _score:scoreItem(it) })).sort((a,b)=>b._score-a._score);
    const filtered = hotOnly ? enriched.filter(it=>it._score>=3) : enriched;
    list.innerHTML = '';
    if(!filtered.length){ list.innerHTML = '<li class="item"><small>No items. Try a broader query or uncheck “hot only”.</small></li>'; }
    filtered.forEach(it=>{
      const hot = it._score>=3;
      const sam = SAM_HINT.some(k=>(it.displayLink||it.url||'').toLowerCase().includes(k));
      const li=document.createElement('li'); li.className='item';
      li.innerHTML = `
        <a href="${it.url}" target="_blank" rel="noopener">${it.title||it.url}</a>
        <div class="badges">
          ${hot?'<span class="badge hot">HOT</span>':''}
          ${sam?'<span class="badge sam">SAM.gov</span>':''}
          ${it.displayLink?`<span class="badge">${it.displayLink}</span>`:''}
        </div>
        ${it.snippet?`<div class="meta">${it.snippet}</div>`:''}
      `;
      list.appendChild(li);
    });

    // demo KPIs + ticker
    const leadsPerWin = items.length;
    const hotCount = filtered.filter(x=>x._score>=3).length;
    $('#k-leads').textContent = leadsPerWin;
    $('#k-hot').textContent = hotCount;
    $('#k-close').textContent = `${Math.round(hotCount*0.28)} / ${Math.round(hotCount*0.16)}`;
    pushTick(`<small>${new Date().toLocaleTimeString()} — Window: ${leadsPerWin} leads, ${hotCount} hot</small>`);
  }catch(e){
    list.innerHTML = `<li class="item"><small style="color:${'var(--bad)'}">Fetch failed (${e.message}). Check API base & CORS.</small></li>`;
  }finally{
    $('#searchBtn').disabled = false; $('#searchBtn').textContent = 'Search';
  }
}

$('#searchBtn').addEventListener('click', doSearch);

// first load
window.addEventListener('load', ()=>{
  $('#q').value = DEFAULT_Q;
  maybeGate();
  doSearch();
  // refresh every 30s
  setInterval(doSearch, 30_000);
});
</script>
</body>
</html>
