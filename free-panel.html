<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Galactly â€” Live Leads</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;background:#0b0e18;color:#fff;margin:0}
  header{position:sticky;top:0;background:#0c1022;border-bottom:1px solid rgba(255,255,255,.08);padding:10px 16px}
  main{max-width:1000px;margin:20px auto;padding:0 16px}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  input,select,button{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#0f142b;color:#fff}
  button{cursor:pointer}
  ul{list-style:none;padding:0;margin:18px 0}
  li{padding:12px 10px;border:1px solid rgba(255,255,255,.08);border-radius:12px;margin-bottom:10px;background:linear-gradient(180deg,#0b1025,#0a0f1f)}
  a{color:#86f7d6;text-decoration:none}
  small{opacity:.8}
</style>
</head>
<body>
<header>
  <div class="row">
    <input id="base" placeholder="API base (e.g. https://p01--animated-cellar--vz4ftkwrzdfs.code.run)" style="min-width:420px"/>
    <input id="q" placeholder="query" value="packaging buyers RFP" style="flex:1"/>
    <select id="type"><option value="web">web</option><option value="linkedin">linkedin</option><option value="youtube">youtube</option></select>
    <button id="btn">Search</button>
  </div>
</header>
<main>
  <ul id="list"></ul>
</main>
<script>
  const $ = s => document.querySelector(s);
  async function run(){
    const base = $('#base').value.trim().replace(/\/+$/,'');
    const q = encodeURIComponent($('#q').value.trim());
    const type = $('#type').value;
    if (!base) { alert('Enter API base'); return; }
    const res = await fetch(`${base}/api/v1/peek?q=${q}&type=${type}&limit=10`);
    const data = await res.json();
    const ul = $('#list'); ul.innerHTML='';
    (data.items||[]).forEach(it=>{
      const li = document.createElement('li');
      li.innerHTML = `<a href="${it.url}" target="_blank">${it.title}</a><br/>
                      <small>${it.displayLink||it.url}</small><br/>
                      <small>${it.snippet||''}</small>`;
      ul.appendChild(li);
    });
  }
  $('#btn').addEventListener('click', run);
</script>
</body>
</html>
