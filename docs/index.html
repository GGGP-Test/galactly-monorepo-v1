<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Galactly — Find real packaging buyers</title>
<meta name="description" content="Galactly helps packaging suppliers find qualified B2B buyers. Turn website and market signals into ranked leads to grow your sales pipeline—no cold spam." />

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Newsreader:wght@600&family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">

<!-- Section styles (unchanged) -->
<link rel="stylesheet" href="./sections/process/process.css">
<link rel="stylesheet" href="./sections/orbit/orbit.css">

<link rel="icon" href="data:,">

<style>
  :root{
    --bg:#0a0e14; --panel:#101623; --panel-alt:#0f1622; --stroke:#1b2531;
    --text:#e9f1f7; --muted:#91a6b8;
    --gold:#e6c36b; --gold-700:#b8913d; --gold-300:#f2dca0;
    --ctaText:#1b1405;
    --zone-dark:#070b11;

    --container-max: clamp(1100px, 86vw, 1320px);
    --gutter: clamp(16px, 4vw, 40px);

    /* Constellation panel knobs (unchanged CSS variables) */
    --const-radius: 18px; --const-stroke-w: 1px; --const-stroke-a: .06; --const-vignette-a: .18;
    --const-drop-a: .14; --const-edge-tint: rgba(230,195,107,.05); --const-grid-sheen-a: .05;

    --miniCard-radius: 12px; --miniCard-bg: rgba(12,18,28,.86); --miniCard-blur: 6px;
    --miniCard-stroke-a: .08; --miniCard-shadow-a: .30;

    --legend-fs: 12px; --legend-color: #a8bacb;
  }

  *{box-sizing:border-box}
  html,body{
    margin:0;height:100%;
    background:var(--bg);color:var(--text);
    font:16px/1.55 Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  }
  a{color:inherit;text-decoration:none}
  button{font:600 16px Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif}

  /* Kill any old pseudo-backgrounds everywhere */
  body::before, .hero::after{content:none!important}

  /* Sections should be transparent so the fixed background shows through */
  .hero{background:transparent}
  .section{background:transparent}

  /* Desktop layout widths */
  @media (min-width:901px){
    .site-header .inner,
    .hero-grid,
    .section .inner{max-width:var(--container-max);width:100%;margin-inline:auto}
  }

  /* HEADER */
  .site-header{
    position:fixed; inset:0 0 auto 0; height:60px; z-index:50; display:grid; place-items:center;
    background:rgba(12,18,28,.38);
    -webkit-backdrop-filter:blur(12px) saturate(140%); backdrop-filter:blur(12px) saturate(140%);
    border-bottom:1px solid rgba(255,255,255,.06)
  }
  .site-header .inner{
    width:100%;
    padding:0 var(--gutter);
    display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:12px
  }
  .brand{display:flex; align-items:center; gap:10px}
  .brand-badge{width:28px;height:28px;border-radius:8px;background:linear-gradient(180deg,var(--gold),var(--gold-700));
    box-shadow:0 0 0 1px rgba(255,255,255,.08) inset; display:grid; place-items:center; color:#1b1405; font-weight:800; font-size:14px}
  nav#nav-primary{display:flex; justify-content:center; align-items:center; gap:22px}
  .nav-link{position:relative; display:inline-block; padding:8px 2px; font-weight:600; color:#cfe0ee; opacity:.92}
  .nav-link::after{content:""; position:absolute; left:50%; bottom:4px; height:1px; width:0;
    background:linear-gradient(90deg,var(--gold-300),var(--gold-700)); transform:translateX(-50%); transition:width .18s}
  .nav-link:hover,.nav-link:focus-visible{opacity:1}
  .nav-link:hover::after,.nav-link:focus-visible::after{width:60%}
  .nav-actions{display:flex; align-items:center; gap:12px}
  .nav-login{font-weight:600; color:#cfe0ee; opacity:.8}
  .nav-login:hover,.nav-login:focus-visible{opacity:1}
  .nav-cta{padding:8px 14px; border-radius:999px; color:var(--ctaText);
    background:linear-gradient(180deg,var(--gold),var(--gold-700));
    border:none; box-shadow:0 6px 18px rgba(230,195,107,.15), 0 0 0 1px rgba(255,255,255,.06) inset; white-space:nowrap}

  /* Hamburger (mobile only) */
  .hamburger{display:none; justify-self:end; position:relative; width:34px; height:34px; background:none; border:none; color:var(--gold-300); cursor:pointer;}
  .hamburger span{position:absolute; left:2px; right:2px; height:2px; top:11px; border-radius:2px; background:currentColor; transition:transform .25s, top .25s}
  .hamburger span:nth-child(2){ top:21px; }
  .hamburger[aria-expanded="true"] span{ top:17px; }
  .hamburger[aria-expanded="true"] span:nth-child(1){ transform:rotate(45deg); }
  .hamburger[aria-expanded="true"] span:nth-child(2){ transform:rotate(-45deg); }
  @media (max-width:900px){ nav#nav-primary, .nav-actions{display:none} .hamburger{display:inline-block} }

  /* Mobile glass menu */
  #mobileMenu{position:fixed; inset:0; z-index:55; display:grid; background:rgba(5,8,12,.35);
    -webkit-backdrop-filter:blur(4px); backdrop-filter:blur(4px); opacity:0; pointer-events:none; transition:opacity .18s}
  #mobileMenu.open{opacity:1; pointer-events:auto}
  #mobileMenu .sheet{margin:70px 12px 12px; width:calc(100% - 24px); border-radius:16px;
    border:1px solid rgba(255,255,255,.08); background:rgba(12,18,28,.86);
    -webkit-backdrop-filter:blur(12px) saturate(140%); backdrop-filter:blur(12px) saturate(140%);
    padding:12px; transform:translateY(-8px); opacity:0; transition:transform .22s, opacity .22s}
  #mobileMenu.open .sheet{transform:translateY(0); opacity:1}
  #mobileMenu .sheet a{display:block; padding:14px 12px; font-weight:600; color:#cfe0ee; border-radius:12px}
  #mobileMenu .sheet a:hover{background:rgba(255,255,255,.04)}
  #mobileMenu .sheet .mm-cta{background:linear-gradient(180deg,var(--gold),var(--gold-700)); color:var(--ctaText); text-align:center; margin-bottom:8px}
  #mobileMenu .sheet hr{border:0; border-top:1px solid var(--stroke); margin:8px 0}

  /* HERO */
  .hero{
    position:relative;min-height:100svh;display:flex;align-items:center;justify-content:center;
    padding:calc(5rem + 30px) var(--gutter) 5rem;overflow:hidden; isolation:isolate;
  }
  /* We'll keep the canvas node for structure but never render to it */
  #heroFx{display:none; position:absolute;inset:-10% -10% -10% -10%;z-index:0;filter:saturate(110%) blur(.2px)}
  .hero-grid{
    position:relative;z-index:1;display:grid;align-items:center;
    grid-template-columns:1.12fr 1fr;
    gap:clamp(28px, 4vw, 48px);
    width:100%;
  }
  @media (max-width:900px){.hero-grid{grid-template-columns:1fr;gap:18px}}
  .hero-copy{max-width:680px}
  .badge{display:inline-block;margin-bottom:12px;padding:6px 10px;border-radius:999px;
    border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03);color:var(--muted);font-size:12px}
  h1{font:600 clamp(34px,6vw,64px) "Newsreader", Georgia, serif;letter-spacing:.2px;margin:0 0 10px}
  .lead{color:var(--muted);font-size:clamp(16px,2.6vw,19px);margin:0 0 26px}
  .actions{display:flex;gap:12px;flex-wrap:wrap}
  .btn{display:inline-flex;align-items:center;gap:.6rem;padding:12px 18px;border-radius:999px;border:1px solid var(--stroke);cursor:pointer}
  .btn:active{transform:translateY(1px)}
  .btn.primary{color:var(--ctaText);background:linear-gradient(180deg,var(--gold),var(--gold-700));
    border:none;box-shadow:0 10px 30px rgba(230,195,107,.15),0 0 0 1px rgba(255,255,255,.06) inset}
  .btn.ghost{background:transparent;color:#cfe0ee;border-color:var(--stroke)}
  .btn.ghost:hover{border-color:#284560}

  /* Constellation panel */
  .const-wrap{
    position:relative; isolation:isolate; height:520px;
    border-radius:var(--const-radius);
    overflow:hidden;
    background:linear-gradient(180deg,#0b121d,#0b1119);
    filter: drop-shadow(0 10px 24px rgba(0,0,0,var(--const-drop-a)));
  }
  .const-wrap::before{
    content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
    box-shadow: inset 0 0 0 var(--const-stroke-w) rgba(255,255,255,var(--const-stroke-a)),
               inset 0 0 60px rgba(0,0,0,var(--const-vignette-a));
  }
  .const-wrap::after{
    content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
    background: linear-gradient(90deg, transparent 0%, var(--const-edge-tint) 96%, transparent 100%);
    opacity:var(--const-grid-sheen-a);
  }
  #constFx{position:absolute; inset:0; z-index:0}
  .const-legend{
    position:absolute; inset:auto 12px 12px auto; z-index:2;
    font-size:var(--legend-fs); color:var(--legend-color);
    background:rgba(255,255,255,.03); border:1px solid var(--stroke);
    padding:6px 8px; border-radius:10px
  }
  .miniCard{
    position:absolute; z-index:2; min-width:170px; max-width:220px;
    padding:10px 12px; border-radius:var(--miniCard-radius);
    background:var(--miniCard-bg);
    -webkit-backdrop-filter:blur(var(--miniCard-blur)); backdrop-filter:blur(var(--miniCard-blur));
    border:1px solid rgba(255,255,255,var(--miniCard-stroke-a));
    box-shadow:0 8px 24px rgba(0,0,0,var(--miniCard-shadow-a));
    transform:translate(-50%,-50%); pointer-events:none
  }
  .miniCard .k{font-size:11px;color:#9bb2c8}
  .miniCard .v{font-weight:700}
  .domainTag{
    position:absolute; z-index:2; left:14px; top:14px;
    padding:6px 10px; border-radius:999px; font-size:12px;
    background:rgba(230,195,107,.12); color:var(--gold-300);
    border:1px solid rgba(230,195,107,.25)
  }

  /* SECTION 2 (unchanged) */
  .section{padding:clamp(64px, 8vw, 96px) var(--gutter); isolation:isolate;}
  .section .inner{margin:0 auto}
  .section-hd{display:flex;flex-wrap:wrap;align-items:flex-end;justify-content:space-between;gap:12px;margin-bottom:20px}
  .section-hd h2{margin:0;font:600 clamp(22px,3.4vw,30px) "Newsreader", Georgia, serif}
  .section-hd .sub{color:var(--muted);font-size:14px}
  .proof-wrap{background:linear-gradient(180deg,#0d1520,#0c141f);border:1px solid var(--stroke);border-radius:16px;padding:16px}
  .kpi-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:12px}
  @media (max-width:900px){.kpi-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
  @media (max-width:520px){.kpi-grid{grid-template-columns:1fr}}
  .kpi{height:140px;background:var(--panel);border:1px solid var(--stroke);border-radius:14px;padding:14px;
    display:flex;flex-direction:column;justify-content:center;align-items:flex-start;box-shadow:0 10px 30px rgba(0,0,0,.25)}
  .kpi .label{font-size:12px;color:#9db2c5;letter-spacing:.2px;text-transform:uppercase}
  .kpi .num{font-weight:800;font-size:clamp(22px,6vw,36px);line-height:1.05;
    background:linear-gradient(180deg,var(--gold-300),var(--gold-700));-webkit-background-clip:text;background-clip:text;color:transparent;margin-top:6px}
  .kpi .hint{font-size:12px;color:#7fa1b9;margin-top:6px}

  /* ---------- MOBILE TYPE TWEAKS (unchanged) ---------- */
  @media (max-width:900px){
    .const-wrap{display:none}
    .hero{min-height:92svh; padding:calc(60px + env(safe-area-inset-top, 10px)) 16px 28px;}
    .hero-copy{margin-inline:auto; text-align:center; max-width:28rem;}
    :root{ --font-sans: "Plus Jakarta Sans", Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    h1{ font-family: var(--font-sans); font-weight:800; letter-spacing:-0.01em; }
    .h1-accent{ background:linear-gradient(180deg,var(--gold-300),var(--gold-700)); -webkit-background-clip:text; background-clip:text; color:transparent; }
    .badge,.lead{ margin-left:auto; margin-right:auto; }
    .actions{ justify-content:center; width:100%; }
    .actions.show-mobile{ flex-direction:column; gap:12px; }
    .actions.show-mobile .btn{ width:100%; padding:16px 20px; justify-content:center; text-align:center; }
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce){
    #heroFx{display:none}
    #constFx{display:none}
    .btn{transition:none}
  }

  .show-desktop{display:block}
  .show-mobile{display:none}
  @media (max-width:900px){
    .show-desktop{display:none}
    .show-mobile{display:block}
  }

  /* The single, site-wide static background layer (used on both desktop + mobile) */
  .page-bg{
    position:fixed; inset:0; z-index:-1; pointer-events:none;
    /* Fallback background if JS doesn’t run */
    background:
      radial-gradient(170% 130% at 50% -26%, rgba(230,195,107,.16), rgba(0,0,0,0) 60%),
      radial-gradient(90% 80%  at 18% 12%,  rgba(230,195,107,.07), rgba(0,0,0,0) 74%),
      linear-gradient(180deg,#0b121a 0%, #0a0e14 100%);
    background-attachment:fixed, fixed, fixed;
  }
</style>
</head>
<body>
  <!-- STATIC BACKGROUND (one layer for all viewports) -->
  <div class="page-bg" aria-hidden="true"></div>

  <!-- HEADER -->
  <header class="site-header" aria-label="Site">
    <div class="inner">
      <a href="index.html" class="brand" aria-label="Home"><span class="brand-badge" aria-hidden="true">G</span></a>

      <nav id="nav-primary" aria-label="Primary">
        <a class="nav-link" href="#get-started">How it works</a>
        <a class="nav-link" href="sectors.html">Sectors</a>
        <a class="nav-link" href="pricing.html">Pricing</a>
      </nav>

      <div class="nav-actions">
        <a class="nav-login" href="login.html">Login</a>
        <a class="nav-cta" href="#get-started" id="navStart">Start Free</a>
      </div>

      <button id="burger" class="hamburger" aria-label="Open menu" aria-controls="mobileMenu" aria-expanded="false">
        <span aria-hidden="true"></span><span aria-hidden="true"></span>
      </button>
    </div>
  </header>

  <!-- Mobile glass menu -->
  <div id="mobileMenu" aria-hidden="true">
    <div class="sheet" role="menu">
      <a id="mobileStart" class="mm-cta" href="#get-started" role="menuitem">✨ Start Free</a>
      <a class="mm-link" href="login.html" role="menuitem">Login</a>
      <hr>
      <a class="mm-link" href="#get-started" role="menuitem">How it works</a>
      <a class="mm-link" href="sectors.html" role="menuitem">Sectors</a>
      <a class="mm-link" href="pricing.html" role="menuitem">Pricing</a>
    </div>
  </div>

  <!-- HERO -->
  <section class="hero" aria-label="Hero">
    <canvas id="heroFx" aria-hidden="true"></canvas>
    <div class="hero-grid">
      <div class="hero-copy">
        <span class="badge">Built for packaging suppliers</span>

        <!-- Desktop headline -->
        <h1 class="show-desktop">Find real packaging buyers.</h1>

        <!-- Mobile headline -->
        <h1 class="show-mobile">
          <span>We help packaging suppliers</span> <span class="h1-accent">win qualified buyers</span>
        </h1>

        <!-- Desktop lead -->
        <p class="lead show-desktop">
          We filter the noise and surface real companies already signaling intent in your strengths.
        </p>

        <!-- Mobile lead -->
        <p class="lead show-mobile">
          One platform that turns your website + market signals into ranked B2B packaging leads—verified companies with purchase intent, ready for sales.
        </p>

        <!-- Desktop actions -->
        <div class="actions show-desktop" id="get-started-desktop">
          <button id="cta-desktop" type="button" class="btn primary">✨ START FOR FREE</button>
          <a href="https://www.youtube.com" class="btn ghost" target="_blank" rel="noopener">▶︎ GET DEMO</a>
        </div>

        <!-- Mobile actions -->
        <div class="actions show-mobile" id="get-started">
          <button id="cta" type="button" class="btn primary">Get a demo</button>
          <a href="https://www.youtube.com" class="btn ghost" target="_blank" rel="noopener">▶︎ Watch 60-sec demo</a>
        </div>
      </div>

      <!-- Constellation (desktop only) -->
      <div class="const-wrap" aria-hidden="true">
        <span class="domainTag" id="domainTag">yourcompany.com</span>
        <canvas id="constFx"></canvas>
        <div class="const-legend">Your Website → Signal → <strong>Timing</strong> → Buyers</div>

        <div class="miniCard" id="cardA"><div class="k">Buyer</div><div class="v" id="cardA_name">Acme Drinks Co.</div><div class="k">City</div><div class="v" id="cardA_city">Chicago, IL</div></div>
        <div class="miniCard" id="cardB"><div class="k">Buyer</div><div class="v" id="cardB_name">Northstar Foods</div><div class="k">City</div><div class="v" id="cardB_city">Dallas, TX</div></div>
        <div class="miniCard" id="cardC"><div class="k">Buyer</div><div class="v" id="cardC_name">Atlas Beauty</div><div class="k">City</div><div class="v" id="cardC_city">Toronto, ON</div></div>
      </div>
    </div>
  </section>

  <!-- SECTION 2 -->
  <section class="section blend-up blend-down" id="proof" aria-label="Proof">
    <div class="inner">
      <div class="section-hd">
        <h2>Proof it works</h2>
        <div class="sub">Signals → Verified companies → Hot buyers → Time-to-first buyer</div>
      </div>

      <div class="proof-wrap">
        <div class="kpi-grid" id="kpiGrid">
          <div class="kpi"><div class="label">Signals captured</div><div class="num" data-to="42000" data-format="int">0</div><div class="hint">From your site + public sources</div></div>
          <div class="kpi"><div class="label">Verified companies</div><div class="num" data-to="1306" data-format="int">0</div><div class="hint">Auto-deduped + enriched</div></div>
          <div class="kpi"><div class="label">Hot buyers this week</div><div class="num" data-to="87" data-format="int">0</div><div class="hint">High-intent fit, ranked</div></div>
          <div class="kpi"><div class="label">Time to first buyer</div><div class="num" data-to="2.3" data-format="dec1">0</div><div class="hint">Days from kickoff to signal</div></div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 3 – Process -->
  <div id="section-process"></div>
  <!-- SECTION 4 – Orbit -->
  <div id="section-orbit"></div>

  <!-- MODAL -->
  <div id="modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" style="display:none"></div>

<script>
(()=>{
  'use strict';
  var $  = function(q){ return document.querySelector(q); };
  var $$ = function(q){ return Array.prototype.slice.call(document.querySelectorAll(q)); };
  var LS = window.localStorage;
  var normHost=function(h){ return (h||"").trim().toLowerCase().replace(/^https?:\/\//,"").replace(/^www\./,"").replace(/\/.*$/,""); };
  var domainFromEmail=function(e){ var m=(e||"").toLowerCase().match(/@([a-z0-9.-]+)/); return m?m[1]:""; };

  /* ========= STATIC BACKGROUND KNOBS (desktop + mobile) ========= */
  // Knobs define two soft gold radials laid over a vertical base gradient.
  window.BG_KNOBS_DESKTOP = {
    r1: { size:'170% 130%', at:'50% -26%', alpha:0.16, fade:'60%' },
    r2: { size:'90% 80%',   at:'18% 12%',  alpha:0.07, fade:'74%' },
    base: 'linear-gradient(180deg,#0b121a 0%, #0a0e14 100%)'
  };
  window.BG_KNOBS_MOBILE = {
    r1: { size:'170% 150%', at:'50% -30%', alpha:0.16, fade:'60%' },
    r2: { size:'100% 90%',  at:'20% 10%',  alpha:0.08, fade:'72%' },
    base: 'linear-gradient(180deg,#0b121a 0%, #0a0e14 100%)'
  };

  function buildRadial(k){
    return 'radial-gradient(' + k.size + ' at ' + k.at + ', rgba(230,195,107,' + k.alpha + '), rgba(0,0,0,0) ' + k.fade + ')';
  }
  function buildBg(knobs){
    return [ buildRadial(knobs.r1), buildRadial(knobs.r2), knobs.base ].join(',');
  }
  (function attachStaticBg(){
    var bg = document.querySelector('.page-bg'); if (!bg) return;
    var mq = window.matchMedia('(max-width:900px)');
    function apply(){
      var k = mq.matches ? window.BG_KNOBS_MOBILE : window.BG_KNOBS_DESKTOP;
      bg.style.background = buildBg(k);
      bg.style.backgroundAttachment = 'fixed,fixed,fixed';
    }
    apply();
    if (mq.addEventListener) mq.addEventListener('change', apply); else mq.addListener(apply);

    // Public helper so you can tweak later in console:
    //   updateBgKnobs('desktop', { r1:{alpha:0.2}, r2:{at:'22% 14%'} })
    window.updateBgKnobs = function(mode, patch){
      var target = (mode==='mobile') ? window.BG_KNOBS_MOBILE : window.BG_KNOBS_DESKTOP;
      patch = patch || {};
      ['r1','r2'].forEach(function(key){
        if (patch[key]) target[key] = Object.assign({}, target[key], patch[key]);
      });
      if (patch.base) target.base = patch.base;
      apply();
    };
  })();
  /* ============================================================ */

  /* ------- Build modal (safe single-quoted string) ------- */
  var modal = $("#modal");
  modal.innerHTML =
    '<div class="card" role="document">\
      <div class="card-hd">\
        <div class="steps" aria-label="Steps">\
          <span class="dot on" data-step-dot="0"></span>\
          <span class="dot" data-step-dot="1"></span>\
        </div>\
        <div style="display:flex;gap:10px;align-items:center">\
          <span id="apiBadge" class="api-badge">Ready</span>\
          <button id="close" class="x" aria-label="Close">✕</button>\
        </div>\
      </div>\
      <div class="card-bd"><div class="scroll">\
        <section class="step" id="step1">\
          <div class="pill">Get set up in 60 seconds</div>\
          <h2 style="margin:10px 0 14px;">Pick your side</h2>\
          <div class="accordion">\
            <div class="acc-hd" role="button" tabindex="0"><h4>Role</h4><div class="hint">Required</div></div>\
            <div class="acc-bd">\
              <div class="chips" id="roleChips">\
                <span id="opt-supplier" class="chip active">🙌 I sell packaging (Supplier)</span>\
                <span id="opt-buyer" class="chip">🛒 I buy packaging (Buyer)</span>\
              </div>\
            </div>\
          </div>\
        </section>\
        <section class="step" id="step2" hidden>\
          <div class="pill">Step 2 of 2</div>\
          <h2 style="margin:10px 0 14px;">Tell us who you are</h2>\
          <div class="accordion">\
            <div class="acc-hd" role="button" tabindex="0"><h4>Contact & company</h4><div class="hint">Required</div></div>\
            <div class="acc-bd">\
              <div style="display:grid;grid-template-columns:1fr 1fr;gap:18px">\
                <div>\
                  <div class="field"><label>Your name</label><input id="name" type="text" autocomplete="name" placeholder="e.g., Sam Carter"></div>\
                  <div class="field"><label>Phone (required for alerts) *</label><input id="phone" type="tel" inputmode="tel" autocomplete="tel" placeholder="+1 555 123 4567"/><div class="hint">Include country code (e.g., “+1”).</div></div>\
                </div>\
                <div>\
                  <div class="field"><label>Business email *</label><input id="email" type="email" autocomplete="email" placeholder="you@yourcompany.com" required/></div>\
                  <div class="field"><label>Website / Domain</label><input id="host" type="text" inputmode="url" placeholder="yourcompany.com"/><div class="hint">Auto-filled from your email. You can edit.</div></div>\
                </div>\
              </div>\
              <div class="hint" id="apiStatus" style="margin-top:8px">Step 3 opens in a new screen.</div>\
            </div>\
          </div>\
        </section>\
      </div>\
      <div class="card-ft">\
        <button id="back" class="btn ghost" type="button">Back</button>\
        <button id="next" class="btn primary" type="button">Continue</button>\
      </div></div>\
    </div>';

  /* ------- elements & state ------- */
  var openBtnMobile=$("#cta"), openBtnDesktop=$("#cta-desktop");
  var closeBtn=$("#close");
  var backBtn=$("#back"), nextBtn=$("#next"), dots=$$("[data-step-dot]");
  var emailEl=$("#email"), hostEl=$("#host"), phoneEl=$("#phone"), nameEl=$("#name");
  var optSupplier=$("#opt-supplier"), optBuyer=$("#opt-buyer");
  var apiBadge=$("#apiBadge");
  var state={ step:0, role:"supplier" };

  function show(step){
    state.step=step;
    ["#step1","#step2"].forEach(function(id,i){
      var el=$(id); if(!el) return;
      el.hidden = i!==step;
      if (dots[i]) dots[i].classList.toggle("on", i===step);
    });
    backBtn.style.visibility = step===0 ? "hidden" : "visible";
    nextBtn.textContent = step===0 ? "Next" : "Continue";
  }
  function open(){ modal.classList.add("show"); modal.style.display="flex"; modal.setAttribute("aria-hidden","false"); show(0); }
  function close(){ modal.classList.remove("show"); modal.style.display="none"; modal.setAttribute("aria-hidden","true"); }

  var navStart = document.getElementById("navStart");
  if (navStart) navStart.addEventListener("click", function(e){ e.preventDefault(); open(); });
  if (openBtnMobile) openBtnMobile.addEventListener("click", open);
  if (openBtnDesktop) openBtnDesktop.addEventListener("click", open);
  if (closeBtn) closeBtn.addEventListener("click", close);
  if (backBtn) backBtn.addEventListener("click", function(){ show(Math.max(0, state.step-1)); });

  if (nextBtn) nextBtn.addEventListener("click", function(){
    if (state.step===0){ show(1); return; }
    if (state.step===1){
      if (!emailEl.value || !phoneEl.value){ alert("Business email and phone are required."); return; }
      var hostCandidate = normHost(hostEl.value || domainFromEmail(emailEl.value));
      if (!hostCandidate){ alert("Please provide your website/domain (from email is fine)."); return; }
      var seed = { role: state.role, contact: { name: nameEl.value.trim(), phone: phoneEl.value.trim(), email: emailEl.value.trim() }, host: hostCandidate };
      try{
        LS.setItem("onb.seed", JSON.stringify(seed));
        LS.setItem("fp.supplier.host", hostCandidate);
        LS.setItem("email", seed.contact.email);
        LS.setItem("contact.name", seed.contact.name||"");
        LS.setItem("contact.phone", seed.contact.phone||"");
      }catch(e){}
      window.location.href = "step3.html";
    }
  });

  function setRole(r){
    state.role=r;
    if (optSupplier) optSupplier.classList.toggle("active", r==="supplier");
    if (optBuyer) optBuyer.classList.toggle("active", r==="buyer");
  }
  if (optSupplier) optSupplier.addEventListener("click", function(){ setRole("supplier"); });
  if (optBuyer) optBuyer.addEventListener("click", function(){ setRole("buyer"); });

  function syncDomain(){
    var d=domainFromEmail(emailEl.value);
    if (d) hostEl.value=d;
    var tag=document.getElementById("domainTag");
    if (tag){ tag.textContent = d || hostEl.value || "yourcompany.com"; }
  }
  if (emailEl){
    emailEl.addEventListener("input",syncDomain);
    emailEl.addEventListener("change",syncDomain);
  }
  setTimeout(syncDomain, 80);
  if (apiBadge) apiBadge.textContent = "Ready";

  modal && modal.addEventListener("keydown",function(e){
    if (e.key==="Escape"){ e.preventDefault(); close(); return; }
    if (e.key==="Enter"){
      var tag=(e.target&&e.target.tagName)||"";
      if (tag==="INPUT"||tag==="TEXTAREA"||tag==="A"||tag==="BUTTON") return;
      e.preventDefault(); nextBtn.click();
    }
  });

  /* ------- Hero aurora is disabled (static background requested) ------- */
  // Canvas code intentionally not executed.

  /* ------- Constellation (desktop) ------- */
  (function(){
    var wrap = document.querySelector(".const-wrap");
    var c = document.getElementById("constFx");
    if (!wrap || !c) return;

    /* === KNOBS FOR CONSTELLATION (desktop) ========================= */
    var KNOBS_DEFAULT = {
      nodes: { count: 42, linkRadius: 110, linkAlphaBase: 0.08, linkAlphaBoost: 0.22 },
      highlights: { regionLeft: 0.55, regionTop: 0.08, regionBottom: 0.90 },
      cards: { safeLeft: 0.60, safeRight: 0.03, safeTop: 0.10, safeBottom: 0.22, jitter: 14, spacing: 26 },
      legendAvoidancePx: 14
    };

    // Deep merge to keep nested defaults intact when partial overrides are provided.
    function deepMerge(base, patch){
      if (!patch) return JSON.parse(JSON.stringify(base));
      var out = Array.isArray(base) ? base.slice() : Object.assign({}, base);
      Object.keys(patch).forEach(function(k){
        var bv = base != null ? base[k] : undefined;
        var pv = patch[k];
        if (pv && typeof pv === 'object' && !Array.isArray(pv)){
          out[k] = deepMerge(bv || {}, pv);
        }else{
          out[k] = pv;
        }
      });
      return out;
    }

    // Build initial knobs from window.CONST_KNOBS but keep defaults.
    var KNOBS = window.CONST_KNOBS ? deepMerge(KNOBS_DEFAULT, window.CONST_KNOBS) : deepMerge(KNOBS_DEFAULT, null);

    // Sanitize/normalize numeric values
    function saneNum(v, fallback){ return (typeof v === 'number' && isFinite(v)) ? v : fallback; }
    function applySane(){
      KNOBS.nodes = deepMerge(KNOBS_DEFAULT.nodes, KNOBS.nodes || {});
      KNOBS.nodes.count = Math.max(3, Math.round(saneNum(KNOBS.nodes.count, KNOBS_DEFAULT.nodes.count)));
      KNOBS.nodes.linkRadius = Math.max(20, saneNum(KNOBS.nodes.linkRadius, KNOBS_DEFAULT.nodes.linkRadius));
      KNOBS.nodes.linkAlphaBase = Math.max(0, saneNum(KNOBS.nodes.linkAlphaBase, KNOBS_DEFAULT.nodes.linkAlphaBase));
      KNOBS.nodes.linkAlphaBoost = Math.max(0, saneNum(KNOBS.nodes.linkAlphaBoost, KNOBS_DEFAULT.nodes.linkAlphaBoost));

      KNOBS.highlights = deepMerge(KNOBS_DEFAULT.highlights, KNOBS.highlights || {});
      KNOBS.cards = deepMerge(KNOBS_DEFAULT.cards, KNOBS.cards || {});
      KNOBS.legendAvoidancePx = Math.max(0, saneNum(KNOBS.legendAvoidancePx, KNOBS_DEFAULT.legendAvoidancePx));
    }

    // Public updater keeps defaults via deep merge too.
    window.updateConstKnobs = function(patch){
      KNOBS = deepMerge(KNOBS, patch || {});
      window.CONST_KNOBS = deepMerge(window.CONST_KNOBS || {}, patch || {});
      reset();
    };
    /* =============================================================== */

    var cards = [{ el: $("#cardA") },{ el: $("#cardB") },{ el: $("#cardC") }];
    var cardData = [
      { name:"Acme Drinks Co.", city:"Chicago, IL" },
      { name:"Northstar Foods", city:"Dallas, TX" },
      { name:"Atlas Beauty", city:"Toronto, ON" },
      { name:"Cygnet Petcare", city:"Portland, OR" },
      { name:"Volt Homecare", city:"Denver, CO" }
    ];

    var DPR = Math.max(1, Math.min(2, window.devicePixelRatio||1));
    var ctx = c.getContext("2d");
    var W=0,H=0, nodes=[], highlights=[], t=0;

    function rand(min,max){ return min + Math.random()*(max-min); }
    function clamp(v,min,max){ return Math.max(min, Math.min(max, v)); }

    function reset(){
      applySane();

      var rect = wrap.getBoundingClientRect();
      W = Math.max(320, Math.floor(rect.width));
      H = Math.max(260, Math.floor(rect.height));
      c.width = Math.floor(W*DPR); c.height = Math.floor(H*DPR);
      c.style.width=W+"px"; c.style.height=H+"px";
      ctx.setTransform(DPR,0,0,DPR,0,0);

      var N = KNOBS.nodes.count; nodes = [];
      for (var i=0;i<N;i++){
        var x = 0.20 + Math.random()*0.78;
        var y = 0.06 + Math.random()*0.88;
        var s = 0.15 + Math.random()*0.85;
        var vx = (Math.random()-0.5) * 0.18;
        var vy = (Math.random()-0.5) * 0.18;
        nodes.push({x:x*W, y:y*H, s:s, vx:vx, vy:vy});
      }
      var anchor = { x: 0.18*W, y: 0.52*H };
      nodes.unshift({x:anchor.x, y:anchor.y, s:1.8, vx:0, vy:0, anchor:true });

      var hr = KNOBS.highlights;
      var candidates = nodes.filter(function(n){
        return !n.anchor && n.x > W*hr.regionLeft && n.y > H*hr.regionTop && n.y < H*hr.regionBottom;
      });
      highlights = [];
      for (var j=0;j<3;j++){
        var n = candidates[(Math.random()*candidates.length)|0];
        if (!n) break;
        highlights.push(n);
      }

      placeCards();
      draw();
    }

    function placeCards(){
      var cs = KNOBS.cards;
      var safe = {
        left:  W*cs.safeLeft,
        top:   H*cs.safeTop,
        right: W*(1 - cs.safeRight),
        bottom:H*(1 - cs.safeBottom)
      };

      // Ensure safe box is valid
      if (safe.right <= safe.left){ safe.left = W*0.55; safe.right = W*0.97; }
      if (safe.bottom <= safe.top){ safe.top = H*0.10; safe.bottom = H*0.78; }

      var legend = wrap.querySelector(".const-legend");
      if (legend){
        var lr = legend.getBoundingClientRect();
        var wr = wrap.getBoundingClientRect();
        var legendTop = lr.top - wr.top;
        safe.bottom = Math.min(safe.bottom, legendTop - KNOBS.legendAvoidancePx);
      }

      var placed = [];
      function nonOverlapping(x,y,w,h){
        var pad = KNOBS.cards.spacing;
        return placed.every(function(p){
          return Math.abs(p.x - x) > (p.w/2 + w/2 + pad) || Math.abs(p.y - y) > (p.h/2 + h/2 + pad);
        });
      }

      var pts = [highlights[0], highlights[1], highlights[2]].filter(Boolean);
      pts.forEach(function(p, i){
        var el = cards[i] && cards[i].el; if (!el) return;
        var rect = el.getBoundingClientRect();
        var w = rect.width || 190, h = rect.height || 96;

        var jitter = KNOBS.cards.jitter;
        var x = (p && p.x ? p.x : (safe.left + (i+1)/4*(safe.right-safe.left))) + (i===1? -12: 12) + rand(-jitter,jitter);
        var y = (p && p.y ? p.y : (safe.top + (i+1)/4*(safe.bottom-safe.top))) + (i===2?  14: -10) + rand(-jitter,jitter);

        var halfW=w/2, halfH=h/2;
        x = clamp(x, safe.left + halfW, safe.right - halfW);
        y = clamp(y, safe.top + halfH, safe.bottom - halfH);

        var tries=0;
        while(!nonOverlapping(x,y,w,h) && tries<18){
          x = clamp(x + rand(-jitter,jitter), safe.left + halfW, safe.right - halfW);
          y = clamp(y + rand(-jitter,jitter), safe.top + halfH, safe.bottom - halfH);
          tries++;
        }
        placed.push({x:x,y:y,w:w,h:h});
        el.style.left = x+"px";
        el.style.top  = y+"px";

        var d = cardData[(Math.random()*cardData.length)|0];
        var vs = el.querySelectorAll(".v");
        if (vs[0]) vs[0].textContent = d.name;
        if (vs[1]) vs[1].textContent = d.city;
      });
    }

    function draw(){
      ctx.clearRect(0,0,W,H);
      var R = Math.max(30, +KNOBS.nodes.linkRadius || 110);
      var baseA = (typeof KNOBS.nodes.linkAlphaBase === 'number') ? KNOBS.nodes.linkAlphaBase : 0.08;
      var boostA = (typeof KNOBS.nodes.linkAlphaBoost === 'number') ? KNOBS.nodes.linkAlphaBoost : 0.22;

      for (var i=0;i<nodes.length;i++){
        var a = nodes[i];
        for (var j=i+1;j<nodes.length;j++){
          var b = nodes[j];
          var dx=a.x-b.x, dy=a.y-b.y, d2=dx*dx+dy*dy;
          if (d2 < R*R){
            var aLine = baseA + boostA*(1 - Math.sqrt(d2)/R);
            ctx.strokeStyle="rgba(230,195,107,"+aLine+")";
            ctx.lineWidth = 1; ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
          }
        }
      }
      var anchor = nodes[0];
      var pulse = 8 + Math.sin(performance.now()*0.0022)*4;
      ctx.fillStyle="rgba(230,195,107,0.16)";
      ctx.beginPath(); ctx.arc(anchor.x, anchor.y, 24+pulse, 0, Math.PI*2); ctx.fill();

      var grad = ctx.createLinearGradient(0,0,W,H);
      grad.addColorStop(0, "rgba(230,195,107,0.06)");
      grad.addColorStop(1, "rgba(230,195,107,0.0)");
      ctx.fillStyle=grad; ctx.fillRect(0,0,W,H);

      for (var k=0;k<nodes.length;k++){
        var n2 = nodes[k];
        var r = n2.anchor ? 4 : Math.max(1,1.2*n2.s);
        ctx.fillStyle = n2.anchor ? "rgba(242,220,160,0.95)" : "rgba(230,195,107,0.75)";
        ctx.beginPath(); ctx.arc(n2.x,n2.y,r,0,Math.PI*2); ctx.fill();
      }
    }

    function loop(now){
      if (!loop.prev) loop.prev=now; var dt=Math.min(33, now-loop.prev)*0.06; loop.prev=now;
      if (!(window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches)){
        for (var i=1;i<nodes.length;i++){
          var n = nodes[i]; n.x += n.vx*dt; n.y += n.vy*dt;
          if (n.x < 0) n.x = W; if (n.x > W) n.x = 0;
          if (n.y < 0) n.y = H; if (n.y > H) n.y = 0;
        }
      }
      draw(); requestAnimationFrame(loop);
    }
    reset(); loop(0); addEventListener("resize", reset);

    try{
      var d=(JSON.parse(LS.getItem("onb.seed")||"{}")||{}).host;
      var tag=$("#domainTag"); if (tag) tag.textContent=d || "yourcompany.com";
    }catch(e){}
  })();

  /* ------- Section 2 counters (unchanged) ------- */
  (function(){
    var section = document.getElementById("proof"); if (!section) return;
    var noMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    var nums = Array.prototype.slice.call(section.querySelectorAll(".num")); var fired=false;
    function format(v, fmt){ if (fmt==="dec1") return v.toFixed(1); var s=Math.round(v).toString(); return s.replace(/\B(?=(\d{3})+(?!\d))/g, ","); }
    function animate(el){
      var to = parseFloat(el.dataset.to||"0"); var fmt = el.dataset.format||"int";
      if (noMotion){ el.textContent = format(to, fmt); return; }
      var dur = 1200; var start = performance.now();
      function tick(now){ var p=Math.min(1,(now-start)/dur); var ease=1-Math.pow(1-p,3); var val=to*ease; el.textContent=format(val,fmt); if (p<1) requestAnimationFrame(tick); }
      requestAnimationFrame(tick);
    }
    var io = new IntersectionObserver(function(entries){
      entries.forEach(function(e){ if (!fired && e.isIntersecting){ fired=true; nums.forEach(animate); io.disconnect(); }});
    },{threshold:0.35});
    io.observe(section);
  })();
})();
</script>

<script>
/* header hamburger (unchanged) */
(function(){
  var burger = document.getElementById('burger');
  var menu = document.getElementById('mobileMenu');
  if(!burger || !menu) return;

  function toggle(){
    var open = burger.getAttribute('aria-expanded') === 'true';
    burger.setAttribute('aria-expanded', String(!open));
    menu.classList.toggle('open', !open);
    document.body.style.overflow = !open ? 'hidden' : '';
    menu.setAttribute('aria-hidden', open ? 'true' : 'false');
  }
  burger.addEventListener('click', toggle);
  menu.addEventListener('click', function(e){ if (e.target === menu) toggle(); });
  document.addEventListener('keydown', function(e){ if (e.key === 'Escape' && menu.classList.contains('open')) toggle(); });

  var mobileStart = document.getElementById('mobileStart');
  if (mobileStart) mobileStart.addEventListener('click', function(e){
    e.preventDefault();
    toggle();
    var t = document.getElementById('cta') || document.getElementById('cta-desktop');
    if (t) t.click();
  });
})();
</script>

<!-- Section 3 (Process) scripts -->
<script defer src="./sections/process/process.data.js"></script>
<script defer src="./sections/process/process.js"></script>
<script defer src="./sections/process/process.mobile.global.js"></script>
<script defer src="./sections/process/steps/process.step1.js"></script>
<script defer src="./sections/process/steps/process.step2.js"></script>
<script defer src="./sections/process/steps/process.step3.js"></script>
<script defer src="./sections/process/steps/process.step4.js"></script>
<script defer src="./sections/process/steps/process.step5.js"></script>

<!-- Section 4 (Orbit) scripts -->
<script defer src="./sections/orbit/orbit.data.js"></script>
<script defer src="./sections/orbit/orbit.js"></script>
</body>
</html>