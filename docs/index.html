<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Galactly — Live packaging buyer signals</title>

<!-- Inline favicon to avoid 404 -->
<link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="%2386f7d6"/><stop offset="1" stop-color="%2357a4ff"/></linearGradient></defs><circle cx="32" cy="32" r="28" fill="none" stroke="url(%23g)" stroke-width="4"/></svg>'/>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@800&display=swap" rel="stylesheet">

<style>
:root{
  --ink:#eaf0ff; --mut:#a6b2c9; --line:#1e2737; --card:#0f1420; --panel:#0b101a; --pill:#10182a;
  --accent:#86f7d6; --accent2:#6fb3ff;
  --mont:Montserrat,Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;
  --inter:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  background:
    radial-gradient(1200px 700px at 85% -10%, rgba(40,70,140,.28), transparent 40%),
    linear-gradient(180deg, #0a0e16, #06080e 60%);
  font-family:var(--inter);
}

/* Header */
header{height:60px; display:flex; align-items:center; justify-content:space-between; padding:0 18px; border-bottom:1px solid var(--line); background:linear-gradient(180deg,#0b111b,#0a0e15)}
.brand{display:flex; gap:10px; align-items:center; font:800 16px var(--mont)}
.brand svg{width:22px;height:22px}
.badge{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border:1px solid var(--line); border-radius:999px; color:#c9d6f0; background:#0c1322; font-size:12px}
.badge .dot{width:8px;height:8px;border-radius:50%;background:#43e5b7;box-shadow:0 0 10px rgba(67,229,183,.7);display:inline-block}

/* Hero layout */
.wrap{max-width:1280px; margin:0 auto; padding:26px 18px}
.hero{display:grid; grid-template-columns:minmax(420px, 52%) 1fr; gap:26px; align-items:center}
@media (max-width:1080px){ .hero{grid-template-columns:1fr} }

/* Left copy */
.h1{font:800 clamp(34px,6vw,56px) var(--mont); letter-spacing:-.02em; line-height:1.06; margin:0 0 12px}
.h1 .hi{color:var(--accent)}
.h1 .t{color:#9ec8ff}
.sub{color:#cfdbff; opacity:.9; font-size:15px; margin:0 0 12px}
.cta{margin-top:16px; display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.btn{border-radius:14px; padding:12px 16px; font:700 14px var(--inter); background:var(--pill); border:1px solid var(--line); color:var(--ink); cursor:pointer}
.btn.primary{background:linear-gradient(90deg,#fff,#e6efff); color:#0b111b; border-color:transparent; box-shadow:0 6px 18px rgba(208,228,255,.08)}
.btn.ghost{background:#0f1626}
.kv{margin-top:10px; font-size:12px; color:#c6d5f3; opacity:.95}

/* ===== Right hero container ===== */
.hright{
  position:relative; height:520px;
  border:1px solid #1e2737; border-radius:18px; overflow:hidden;
  background:
    radial-gradient(800px 520px at 36% 58%, rgba(80,120,220,.18), transparent 60%),
    radial-gradient(600px 380px at 70% 58%, rgba(120,160,255,.16), rgba(10,14,22,1) 70%);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.02), 0 18px 70px rgba(0,0,0,.45);
}
#hero-right-canvas{width:100%; height:100%; display:block}

/* KPI chips */
.hright-kpis{
  position:absolute; left:18px; right:18px; bottom:14px;
  display:flex; gap:10px; flex-wrap:wrap;
}
.hright-chip{
  display:inline-flex; align-items:center; gap:8px;
  padding:7px 10px; border:1px solid #26314a; border-radius:999px;
  background:rgba(10,16,28,.82); color:#cfe0ff; font-size:12px;
  backdrop-filter: blur(6px);
}
.hright-chip strong{ color:#fff; }

@media (max-width:1080px){ .hright{height:420px} }

/* Video modal */
.modal{position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; z-index:50}
.modal.in{display:flex}
.vmodal .box{width:min(1000px,96vw); padding:0; background:#0b101a; border:1px solid var(--line); border-radius:16px; overflow:hidden}
.vhead{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--line)}
.vbody{position:relative; padding-bottom:56.25%; height:0}
.vbody iframe{position:absolute; inset:0; width:100%; height:100%; border:0}
</style>
</head>
<body>
<header>
  <a class="brand" href="#">
    <svg viewBox="0 0 64 64" aria-hidden="true"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#86f7d6"/><stop offset="1" stop-color="#57a4ff"/></linearGradient></defs><circle cx="32" cy="32" r="28" stroke="url(#g)" stroke-width="2" fill="none"/><circle cx="20" cy="20" r="6" fill="url(#g)"/></svg>
    <span>Galactly</span>
  </a>
  <span class="badge"><span class="dot"></span><span id="presenceTxt">0 online</span></span>
</header>

<div class="wrap">
  <section class="hero">
    <div>
      <h1 class="h1">Find US &amp; Canada <span class="hi">Packaging</span> Buyers in <span class="t">&lt;30s</span></h1>
      <p class="sub">Real posts &amp; tenders from public feeds. Free viewer; paid automations, priority, CRM &amp; reporting.</p>
      <p class="sub">Built for packaging owners &amp; sales teams. Outputs: Quote • Email • SMS • Call • LinkedIn DM • ERP updates. No coding. Just clicks.</p>
      <div class="cta">
        <a class="btn primary" href="./free-panel.html">Open the Live Feed</a>
        <button class="btn ghost" id="watchDemo">▸ Watch 90s demo</button>
        <span class="kv">AI closed <strong>16%</strong> • Rep closed <strong>21%</strong> • Saved / mo <strong>$20,678</strong></span>
      </div>
    </div>

    <!-- RIGHT HERO -->
    <div id="hero-right" class="hright" aria-hidden="true">
      <canvas id="hero-right-canvas"></canvas>
      <div class="hright-kpis">
        <div class="hright-chip">Leads / 30s <strong id="hr_k_leads">0</strong></div>
        <div class="hright-chip">First connection <strong>6 sec</strong></div>
        <div class="hright-chip">Ready now <strong id="hr_k_ready">54%</strong></div>
        <div class="hright-chip">Quoted <strong id="hr_k_quoted">67%</strong></div>
        <div class="hright-chip">Rep closed <strong id="hr_k_rep">21%</strong></div>
        <div class="hright-chip">Saved / mo <strong id="hr_k_saved">$20,678</strong></div>
      </div>
    </div>
  </section>
</div>

<!-- Video modal -->
<div class="modal vmodal" id="vid">
  <div class="box">
    <div class="vhead"><div style="font:800 14px var(--mont)">90s demo</div><button class="btn" id="vclose">Close</button></div>
    <div class="vbody">
      <iframe id="vframe" src="https://www.youtube-nocookie.com/embed/dQw4w9WgXcQ?rel=0&modestbranding=1"
        allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen
        sandbox="allow-scripts allow-same-origin allow-presentation" referrerpolicy="no-referrer"></iframe>
    </div>
  </div>
</div>

<script>
/* Presence badge (best-effort) */
(async function presence(){
  try{ const r=await fetch('/presence/online'); const j=await r.json(); document.getElementById('presenceTxt').textContent=(j.total||0)+' online'; }catch{}
  setTimeout(presence, 15000);
})();

/* ================== CINEMATIC HERO ================== */
(function(){
  const root = document.getElementById('hero-right');
  const canvas = document.getElementById('hero-right-canvas');
  if(!root || !canvas || !canvas.getContext) return;
  const ctx = canvas.getContext('2d');

  /* ---- Tunables (slow) ---- */
  const SPEED = { sweep:0.0075, ping:0.0038, coreCore:0.0032, bead:0.0030 };
  const LIMITS = { pings:22, coreBeads:24, outBeads:36, stars:60 };
  const TAU = Math.PI*2;

  /* ---- Sizes / layout ---- */
  let w=0,h=0,dpr=1;
  let globeX=0, globeY=0, globeR=0;
  let coreCollect={x:0,y:0,r:0}, coreReason={x:0,y:0,r:0}, coreDispatch={x:0,y:0,r:0};

  /* ---- Static layer (globe) ---- */
  const staticLayer = document.createElement('canvas');
  const sctx = staticLayer.getContext('2d');

  /* ---- USA polygon (define BEFORE any use) ---- */
  const USA = [
    {x:-0.48,y:0.04},{x:-0.38,y:-0.08},{x:-0.20,y:-0.18},{x:0.02,y:-0.20},
    {x:0.18,y:-0.10},{x:0.22,y:0.02},{x:0.05,y:0.10},{x:-0.18,y:0.16},{x:-0.38,y:0.12}
  ];

  function resize(){
    dpr = Math.max(1, Math.min(2, window.devicePixelRatio||1));
    w = canvas.clientWidth; h = canvas.clientHeight;
    canvas.width = Math.floor(w*dpr); canvas.height = Math.floor(h*dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);

    globeX = w*0.55; globeY = h*0.54; globeR = Math.min(w,h)*0.33;

    coreCollect = { x: globeX - globeR*0.10, y: globeY - globeR*0.05, r: globeR*0.11 };
    coreReason  = { x: globeX + globeR*0.10, y: globeY + globeR*0.00, r: globeR*0.13 };
    coreDispatch= { x: globeX + globeR*0.32, y: globeY + globeR*0.04, r: globeR*0.10 };

    staticLayer.width = w; staticLayer.height = h;
    drawStatic(sctx);  // safe now; USA is already defined
  }
  if (window.ResizeObserver) new ResizeObserver(resize).observe(root);
  window.addEventListener('resize', resize); resize();

  /* ---- helpers ---- */
  function clamp01(x){ return Math.max(0,Math.min(1,x)); }
  function ptInPoly(px,py, poly){
    let c=false; for(let i=0,j=poly.length-1;i<poly.length;j=i++){
      const xi=poly[i].x, yi=poly[i].y, xj=poly[j].x, yj=poly[j].y;
      const intersect=((yi>py)!==(yj>py)) && (px < (xj-xi)*(py-yi)/(yj-yi)+xi);
      if(intersect) c=!c;
    } return c;
  }
  function rndUSLocal(){
    for(let k=0;k<60;k++){
      const x = (Math.random()*0.90 - 0.55);
      const y = (Math.random()*0.55 - 0.28);
      if(ptInPoly(x,y,USA)) return {x,y};
    }
    return {x:-0.1,y:-0.1};
  }
  function roundRect(c,x,y,w,h,r){
    c.beginPath();
    c.moveTo(x+r,y); c.lineTo(x+w-r,y); c.quadraticCurveTo(x+w,y,x+w,y+r);
    c.lineTo(x+w,y+h-r); c.quadraticCurveTo(x+w,y+h,x+w-r,y+h);
    c.lineTo(x+r,y+h); c.quadraticCurveTo(x,y+h,x,y+h-r);
    c.lineTo(x,y+r); c.quadraticCurveTo(x,y,x+r,y); c.closePath();
  }

  /* ---- draw the static globe ---- */
  function drawStatic(c){
    // background vignette
    const vg=c.createRadialGradient(globeX-140,globeY, globeR*0.5, globeX,globeY, Math.max(w,h)*0.9);
    vg.addColorStop(0,'rgba(72,100,160,0.10)'); vg.addColorStop(1,'rgba(0,0,0,0)');
    c.fillStyle=vg; c.fillRect(0,0,w,h);

    // static stars
    c.save(); c.globalAlpha=0.6;
    for(let i=0;i<LIMITS.stars;i++){
      const x = Math.random()*w*0.9 + w*0.05;
      const y = Math.random()*h*0.9 + h*0.05;
      const s = Math.random()*1.2 + 0.6;
      c.fillStyle='rgba(220,235,255,0.9)';
      c.fillRect(x,y,s,s);
    }
    c.restore();

    // planet glow
    const g1=c.createRadialGradient(globeX,globeY,globeR*0.2, globeX,globeY,globeR*1.25);
    g1.addColorStop(0,'rgba(200,230,255,0.08)');
    g1.addColorStop(1,'rgba(0,0,0,0)');
    c.fillStyle=g1; c.beginPath(); c.arc(globeX,globeY,globeR*1.25,0,TAU); c.fill();

    // globe body
    const g2=c.createRadialGradient(globeX-globeR*0.25,globeY-globeR*0.35,globeR*0.2, globeX,globeY,globeR);
    g2.addColorStop(0,'rgba(220,240,255,0.10)');
    g2.addColorStop(0.5,'rgba(160,190,230,0.12)');
    g2.addColorStop(1,'rgba(60,80,120,0.22)');
    c.fillStyle=g2; c.beginPath(); c.arc(globeX,globeY,globeR,0,TAU); c.fill();

    // parallels/meridians
    c.strokeStyle='rgba(160,190,230,0.12)'; c.lineWidth=1;
    for(let i=-3;i<=3;i++){ const r=globeR*(0.35+(i+3)*0.09); c.beginPath(); c.arc(globeX,globeY,r,0,TAU); c.stroke(); }
    for(let j=0;j<6;j++){
      const a=-0.8 + j*0.32; c.beginPath();
      for(let t=-1;t<=1;t+=0.02){
        const x = globeX + globeR*Math.cos(a)*Math.cos(t);
        const y = globeY + globeR*Math.sin(t);
        if(t===-1) c.moveTo(x,y); else c.lineTo(x,y);
      } c.stroke();
    }

    // USA polygon
    c.save(); c.translate(globeX,globeY); c.rotate(-0.10); c.scale(globeR,globeR);
    c.fillStyle='rgba(170,200,240,0.10)'; c.strokeStyle='rgba(170,200,240,0.18)'; c.lineWidth=0.004*globeR;
    c.beginPath(); c.moveTo(USA[0].x,USA[0].y); for(let i=1;i<USA.length;i++) c.lineTo(USA[i].x,USA[i].y);
    c.closePath(); c.fill(); c.stroke(); c.restore();
  }

  /* ---- Endpoints (platforms) ---- */
  const endpoints = [
    {label:'Email',    ang: 0.00, col:'rgba(180,220,255,0.9)'},
    {label:'SMS',      ang: 0.07, col:'rgba(130,255,210,0.9)'},
    {label:'Call',     ang: 0.13, col:'rgba(200,220,255,0.9)'},
    {label:'LinkedIn', ang: 0.20, col:'rgba(160,210,255,0.9)'},
    {label:'Quote',    ang: 0.28, col:'rgba(255,235,160,0.9)'},
    {label:'ERP',      ang: 0.36, col:'rgba(210,190,255,0.9)'}
  ];
  function epPos(i){
    const len = globeR*1.10 + i*globeR*0.12;
    const e=endpoints[i]; return { x: coreDispatch.x + Math.cos(e.ang)*len, y: coreDispatch.y + Math.sin(e.ang)*len };
  }

  /* ---- Particles & popups ---- */
  const pings=[], coreBeads=[], outBeads=[], popups=[];
  const POPUP_TEXTS=[
    "Need 10k corrugate boxes","Custom mailers (poly + film)","RSC, die-cut, labels",
    "Shrink wrap for 12-pack","Pouches • 5000/mo","Pack-out stress → restock",
    "Tray + sleeve (retail)","Sachets, fin-seal","Cartons: 8oz / 16oz",
    "Insert cards (digital)","MOQ relax? urgent","3-ply kraft, double wall"
  ];
  function spawnPing(){
    const p=rndUSLocal();
    const sx=globeX+p.x*globeR*1.05, sy=globeY+p.y*globeR*1.05;
    const c1x=(sx+coreCollect.x)/2, c1y=sy-globeR*0.08;
    const c2x=(sx+coreCollect.x)/2+globeR*0.04, c2y=coreCollect.y-globeR*0.05;
    const ping={sx,sy,c1x,c1y,c2x,c2y,t:0,spd:SPEED.ping*(0.85+Math.random()*0.3),x:sx,y:sy};
    pings.push(ping);
    const label=POPUP_TEXTS[Math.floor(Math.random()*POPUP_TEXTS.length)];
    popups.push({ping,text:label,life:5200+Math.random()*1800});
  }
  function spawnCoreBead(a,b){ coreBeads.push({ax:a.x,ay:a.y,bx:b.x,by:b.y,t:0,spd:SPEED.coreCore*(0.8+Math.random()*0.4)}); }
  function spawnOutBead(i){ const pos=epPos(i); outBeads.push({ax:coreDispatch.x,ay:coreDispatch.y,bx:pos.x,by:pos.y,t:0,spd:SPEED.bead*(0.8+Math.random()*0.4),jitter:(Math.random()-.5)*0.5,i}); }

  /* ---- Radar ---- */
  let sweepA=-Math.PI*0.25;

  /* ---- KPI drift ---- */
  const kEl={leads:hr_k_leads,ready:hr_k_ready,quoted:hr_k_quoted,rep:hr_k_rep,saved:hr_k_saved};
  let kTick=0,kLeads=0;

  /* ---- Main loop ---- */
  let last=performance.now();
  function frame(now){
    const dt=Math.min(40,now-last); last=now;

    ctx.clearRect(0,0,w,h);
    ctx.drawImage(staticLayer,0,0);

    // Radar sweep
    const rx=globeX-globeR*0.05, ry=globeY-globeR*0.02, rr=globeR*0.56;
    const rg=ctx.createRadialGradient(rx,ry,0,rx,ry,rr);
    rg.addColorStop(0,'rgba(120,180,255,0.055)'); rg.addColorStop(1,'rgba(120,180,255,0)');
    ctx.fillStyle=rg; ctx.beginPath(); ctx.arc(rx,ry,rr, sweepA-0.28, sweepA+0.28); ctx.lineTo(rx,ry); ctx.fill();
    sweepA += SPEED.sweep*(dt/16);

    if(pings.length<LIMITS.pings && Math.random()<0.02) spawnPing();

    // Pings (US → Collect)
    for(let i=pings.length-1;i>=0;i--){
      const p=pings[i]; p.t+=p.spd*(dt/16); const it=1-p.t;
      const x=it*it*it*p.sx + 3*it*it*p.t*p.c1x + 3*it*p.t*p.t*p.c2x + p.t*p.t*p.t*coreCollect.x;
      const y=it*it*it*p.sy + 3*it*it*p.t*p.c1y + 3*it*p.t*p.t*p.c2y + p.t*p.t*p.t*coreCollect.y;
      p.x=x; p.y=y;
      ctx.strokeStyle='rgba(210,235,255,0.18)'; ctx.lineWidth=1; ctx.beginPath(); ctx.moveTo(x,y); ctx.lineTo(x-7,y-3); ctx.stroke();
      ctx.fillStyle='rgba(255,255,255,0.95)'; ctx.beginPath(); ctx.arc(x,y,1.5,0,TAU); ctx.fill();
      if(p.t>=1){ pings.splice(i,1); if(coreBeads.length<LIMITS.coreBeads) spawnCoreBead(coreCollect,coreReason); }
    }

    // Popups
    for(let i=popups.length-1;i>=0;i--){
      const pp=popups[i]; pp.life-=dt;
      if(!pp.ping || pp.life<=0){ popups.splice(i,1); continue; }
      const alpha=clamp01(pp.life/1600), px=pp.ping.x+10, py=pp.ping.y-18;
      ctx.save(); ctx.globalAlpha=alpha*0.95;
      const wB=Math.min(220,18+pp.text.length*6.5), hB=22;
      ctx.fillStyle='rgba(14,20,34,0.78)'; ctx.strokeStyle='rgba(60,90,140,0.55)';
      roundRect(ctx,px,py,wB,hB,8); ctx.fill(); ctx.stroke();
      ctx.font='12px Inter,system-ui'; ctx.fillStyle='rgba(215,235,255,0.95)'; ctx.fillText(pp.text,px+10,py+14);
      ctx.restore();
    }

    // Cores + links
    drawCore(coreCollect,0.70); drawCore(coreReason,0.85); drawCore(coreDispatch,0.70);
    drawLink(coreCollect,coreReason); drawLink(coreReason,coreDispatch);

    // Core beads (Collect→Reason / Reason→Dispatch)
    for(let i=coreBeads.length-1;i>=0;i--){
      const b=coreBeads[i]; b.t+=b.spd*(dt/16);
      const x=b.ax+(b.bx-b.ax)*b.t, y=b.ay+(b.by-b.ay)*b.t;
      ctx.fillStyle='rgba(255,255,255,0.96)'; ctx.beginPath(); ctx.arc(x,y,1.3,0,TAU); ctx.fill();
      if(b.t>=1){
        coreBeads.splice(i,1);
        if(Math.random()<0.55){
          if(Math.random()<0.5) coreBeads.push({ax:coreReason.x,ay:coreReason.y,bx:coreDispatch.x,by:coreDispatch.y,t:0,spd:SPEED.coreCore*(0.8+Math.random()*0.5)});
          else if(outBeads.length<LIMITS.outBeads){ spawnOutBead(Math.floor(Math.random()*endpoints.length)); }
        }
      }
    }

    // Beams + endpoints
    drawBeamsAndEndpoints();

    // Outbound beads (Dispatch→Endpoints)
    for(let i=outBeads.length-1;i>=0;i--){
      const o=outBeads[i]; o.t+=o.spd*(dt/16); if(o.t>=1){ outBeads.splice(i,1); continue; }
      const jx=Math.sin(o.t*8)*o.jitter*5, jy=Math.cos(o.t*8)*o.jitter*5;
      const x=o.ax+(o.bx-o.ax)*o.t + jx, y=o.ay+(o.by-o.ay)*o.t + jy;
      const s=1.0+Math.sin(o.t*Math.PI)*1.2;
      ctx.fillStyle='rgba(255,255,255,0.96)'; ctx.beginPath(); ctx.arc(x,y,s,0,TAU); ctx.fill();
    }

    // KPIs (subtle)
    kTick++; if(kLeads<207 && Math.random()<0.15) kLeads++;
    if(kEl.leads)  kEl.leads.textContent=kLeads;
    if(kEl.ready)  kEl.ready.textContent=(54+Math.round(Math.sin(kTick/150)*3))+'%';
    if(kEl.quoted) kEl.quoted.textContent=(67+Math.round(Math.cos(kTick/210)*3))+'%';
    if(kEl.rep)    kEl.rep.textContent=(21+Math.round(Math.sin(kTick/170)*2))+'%';
    if(kEl.saved){ const v=20678+Math.round(Math.sin(kTick/120)*620); kEl.saved.textContent='$'+v.toLocaleString(); }

    requestAnimationFrame(frame);
  }
  requestAnimationFrame(frame);

  /* ---- drawing helpers ---- */
  function drawCore(c,power){
    const g=ctx.createRadialGradient(c.x,c.y,0, c.x,c.y,c.r*3.2);
    g.addColorStop(0,`rgba(255,255,255,${0.70*power})`);
    g.addColorStop(0.25,`rgba(200,230,255,${0.42*power})`);
    g.addColorStop(1,'rgba(120,160,255,0.02)');
    ctx.fillStyle=g; ctx.beginPath(); ctx.arc(c.x,c.y,c.r,0,TAU); ctx.fill();
    ctx.strokeStyle='rgba(210,235,255,0.45)'; ctx.lineWidth=1.4;
    ctx.beginPath(); ctx.arc(c.x,c.y,c.r*1.20,0,TAU); ctx.stroke();
  }
  function drawLink(a,b){
    const grad=ctx.createLinearGradient(a.x,a.y,b.x,b.y);
    grad.addColorStop(0,'rgba(255,255,255,0.85)');
    grad.addColorStop(1,'rgba(180,210,255,0.30)');
    ctx.strokeStyle=grad; ctx.lineWidth=2;
    ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
  }
  function drawBeamsAndEndpoints(){
    for(let i=0;i<endpoints.length;i++){
      const e=endpoints[i], pos=epPos(i);
      const grd=ctx.createLinearGradient(coreDispatch.x,coreDispatch.y,pos.x,pos.y);
      grd.addColorStop(0,'rgba(255,255,255,0.95)');
      grd.addColorStop(1,e.col.replace(/0\.9\)/,'0.35)'));
      ctx.strokeStyle=grd; ctx.lineWidth=2;
      ctx.beginPath(); ctx.moveTo(coreDispatch.x,coreDispatch.y); ctx.lineTo(pos.x,pos.y); ctx.stroke();

      ctx.fillStyle='rgba(160,200,255,0.35)'; ctx.beginPath(); ctx.arc(pos.x,pos.y,12,0,TAU); ctx.fill();
      ctx.fillStyle='rgba(255,255,255,0.9)'; ctx.beginPath(); ctx.arc(pos.x,pos.y,3.1,0,TAU); ctx.fill();

      ctx.font='12px Inter,system-ui'; ctx.textBaseline='middle'; ctx.fillStyle='rgba(225,235,255,0.96)';
      ctx.fillText(e.label, pos.x+16, pos.y);
    }
  }
})();
</script>

<script>
/* Video modal controls */
document.getElementById('watchDemo').onclick=()=> document.getElementById('vid').classList.add('in');
document.getElementById('vclose').onclick=()=>{ document.getElementById('vid').classList.remove('in'); document.getElementById('vframe').src=document.getElementById('vframe').src; };
document.addEventListener('keydown', e=>{ if(e.key==='Escape'){ document.getElementById('vid').classList.remove('in'); } });
</script>
</body>
</html>
