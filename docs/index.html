<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Galactly ‚Äî Find real packaging buyers</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Newsreader:wght@600&display=swap" rel="stylesheet">

<!--
  index.html (Landing + Onboarding Steps 1‚Äì2)
  - Transparent header (no stripe), centered nav, logo-only
  - Gold aurora background
  - Right-side "Lead Constellation" ‚Üí Your Website ‚Üí Signal ‚Üí Score ‚Üí Buyers
  - CTA opens modal (steps 1‚Äì2), then redirect to step3.html

  NOTE: Section 3 (Orbit) styles are fully scoped to .orbit-* to avoid touching other sections.
-->

<style>
  :root{
    /* Core theme */
    --bg:#0a0e14;            /* page background */
    --panel:#101623;         /* cards */
    --panel-alt:#0f1622;     /* softer panel */
    --stroke:#1b2531;        /* subtle borders */
    --text:#e9f1f7;          /* main text */
    --muted:#91a6b8;         /* secondary text */

    /* Gold accents */
    --gold:#e6c36b;
    --gold-700:#b8913d;
    --gold-300:#f2dca0;

    /* Buttons */
    --ctaText:#1b1405;
  }

  *{box-sizing:border-box}
  html,body{margin:0;height:100%;background:var(--bg);color:var(--text);
    font:16px/1.55 Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif}
  a{color:inherit;text-decoration:none}
  button{font:600 16px Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif}

  /* HEADER (transparent, centered links, logo-only) */
  .site-header{
    position:fixed; inset:0 0 auto 0; height:60px; z-index:50;
    display:grid; place-items:center; background:transparent;
  }
  .site-header .inner{
    width:100%; max-width:1140px; padding:0 16px;
    display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:12px;
  }
  .brand{display:flex; align-items:center; gap:10px}
  .brand-badge{
    width:28px; height:28px; border-radius:8px;
    background:linear-gradient(180deg, var(--gold), var(--gold-700));
    box-shadow:0 0 0 1px rgba(255,255,255,.08) inset;
    display:grid; place-items:center; color:#1b1405; font-weight:800; font-size:14px;
  }
  /* Centered nav */
  nav#nav-primary{
    display:flex; justify-content:center; align-items:center; gap:18px;
  }
  .nav-link{
    position:relative; display:inline-block; padding:8px 2px; font-weight:600; color:#cfe0ee; opacity:.92;
  }
  .nav-link::after{
    content:""; position:absolute; left:50%; bottom:4px; height:1px; width:0;
    background:linear-gradient(90deg, var(--gold-300), var(--gold-700));
    transform:translateX(-50%); transition:width .18s ease;
  }
  .nav-link:focus-visible, .nav-link:hover{opacity:1}
  .nav-link:hover::after, .nav-link:focus-visible::after{width:60%}

  .nav-actions{display:flex; align-items:center; gap:12px}
  .nav-login{font-weight:600; color:#cfe0ee; opacity:.8}
  .nav-login:hover,.nav-login:focus-visible{opacity:1}
  .nav-cta{
    padding:8px 14px; border-radius:999px; color:var(--ctaText);
    background:linear-gradient(180deg, var(--gold), var(--gold-700));
    border:none; box-shadow:0 6px 18px rgba(230,195,107,.15), 0 0 0 1px rgba(255,255,255,.06) inset;
    white-space:nowrap;
  }

  /* HERO LAYOUT */
  .hero{position:relative;min-height:100svh;display:flex;align-items:center;justify-content:center;padding:calc(5rem + 30px) 1.25rem 5rem;overflow:hidden}
  #heroFx{position:absolute;inset:-10% -10% -10% -10%;z-index:0;filter:saturate(110%) blur(0.2px)}
  .hero-grid{position:relative;z-index:1;display:grid;grid-template-columns:1.15fr 1fr;gap:40px;align-items:center;max-width:1140px;width:100%}
  @media (max-width: 900px){ .hero-grid{grid-template-columns:1fr;gap:28px} }

  .hero-copy{max-width:680px}
  .badge{display:inline-block;margin-bottom:12px;padding:6px 10px;border-radius:999px;
    border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03);color:var(--muted);font-size:12px}
  h1{font:600 clamp(34px,6vw,64px) "Newsreader", Georgia, serif;letter-spacing:.2px;margin:0 0 10px}
  .lead{color:var(--muted);font-size:clamp(16px,2.6vw,19px);margin:0 0 26px}
  .actions{display:flex;gap:12px;flex-wrap:wrap}
  .btn{display:inline-flex;align-items:center;gap:.6rem;padding:12px 18px;border-radius:999px;border:1px solid var(--stroke);cursor:pointer}
  .btn:active{transform:translateY(1px)}
  .btn.primary{
    color:var(--ctaText);
    background:linear-gradient(180deg, var(--gold), var(--gold-700));
    border:none; box-shadow:0 10px 30px rgba(230,195,107,.15), 0 0 0 1px rgba(255,255,255,.06) inset;
  }
  .btn.primary:hover{filter:brightness(1.02)}
  .btn.ghost{background:transparent;color:#cfe0ee;border-color:var(--stroke)}
  .btn.ghost:hover{border-color:#284560}

  /* RIGHT: Lead Constellation */
  .const-wrap{position:relative;isolation:isolate;height:520px;border-radius:18px;overflow:hidden;background:linear-gradient(180deg,#0b121d,#0b1119)}
  @media (max-width:900px){ .const-wrap{height:400px} }
  #constFx{position:absolute;inset:0;z-index:0}
  .const-legend{position:absolute;inset:auto 12px 12px auto;z-index:2;font-size:12px;color:#a8bacb;
    background:rgba(255,255,255,.03);border:1px solid var(--stroke);padding:6px 8px;border-radius:10px}
  .miniCard{
    position:absolute;z-index:2;min-width:170px;max-width:220px;padding:10px 12px;border-radius:12px;
    background:rgba(12,18,28,.86);backdrop-filter: blur(6px);
    border:1px solid rgba(255,255,255,.08); box-shadow:0 8px 24px rgba(0,0,0,.35);
    transform:translate(-50%,-50%); pointer-events:none;
  }
  .miniCard .k{font-size:11px;color:#9bb2c8}
  .miniCard .v{font-weight:700}
  .domainTag{
    position:absolute;z-index:2;left:14px;top:14px;padding:6px 10px;border-radius:999px;font-size:12px;
    background:rgba(230,195,107,.12);color:var(--gold-300);border:1px solid rgba(230,195,107,.25)
  }

  /* ========= SECTION 2: PROOF / COUNTERS (kept as-is) ========= */
  .section{padding:72px 16px} /* no global borders to avoid visible seams */
  .section .inner{max-width:1140px; margin:0 auto}
  .section-hd{display:flex;flex-wrap:wrap;align-items:flex-end;justify-content:space-between;gap:12px;margin-bottom:20px}
  .section-hd h2{margin:0;font:600 clamp(22px,3.4vw,30px) "Newsreader", Georgia, serif}
  .section-hd .sub{color:var(--muted);font-size:14px}
  .proof-wrap{background:linear-gradient(180deg,#0d1520,#0c141f);border:1px solid var(--stroke);border-radius:16px;padding:16px}
  .kpi-grid{display:grid;grid-template-columns:repeat(4, minmax(0,1fr));gap:12px}
  @media (max-width:900px){ .kpi-grid{grid-template-columns:repeat(2, minmax(0,1fr))} }
  @media (max-width:520px){ .kpi-grid{grid-template-columns:1fr} }
  .kpi{
    height:140px;
    background:var(--panel);
    border:1px solid var(--stroke);
    border-radius:14px;
    padding:14px;
    display:flex;flex-direction:column;justify-content:center;align-items:flex-start;
    box-shadow:0 10px 30px rgba(0,0,0,.25);
  }
  .kpi .label{font-size:12px; color:#9db2c5; letter-spacing:.2px; text-transform:uppercase}
  .kpi .num{
    font-weight:800; font-size:clamp(22px,6vw,36px); line-height:1.05;
    background:linear-gradient(180deg, var(--gold-300), var(--gold-700));
    -webkit-background-clip:text; background-clip:text; color:transparent;
    margin-top:6px;
  }
  .kpi .hint{font-size:12px;color:#7fa1b9;margin-top:6px}
  .proof-cta{display:flex;justify-content:flex-end;margin-top:14px}
  .btn.small{padding:10px 14px;font-size:14px}

  /* ========= SECTION 3: ORBIT (scoped) ========= */
  /* container */
  .orbit-section{padding:80px 16px 96px}
  .orbit-inner{max-width:1140px; margin:0 auto}
  .orbit-hd{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;margin:0 0 16px}
  .orbit-hd h2{margin:0;font:600 clamp(22px,3.4vw,30px) "Newsreader", Georgia, serif}
  .orbit-hd .sub{color:var(--muted);font-size:14px}

  /* panel */
  .orbit-panel{
    position:relative;
    background:radial-gradient(120% 120% at 20% 10%, rgba(230,195,107,.06), rgba(11,17,25,1) 60%),
               linear-gradient(180deg,#0d1520,#0c141f);
    border:1px solid var(--stroke);
    border-radius:16px;
    overflow:hidden;
    min-height:540px;
    display:grid; place-items:center;
    padding:18px;
  }
  @media (max-width:900px){ .orbit-panel{min-height:460px} }
  @media (max-width:520px){ .orbit-panel{min-height:420px} }

  /* rings */
  .orbit-stage{
    position:relative;
    width:min(820px, 92vw);
    height:min(820px, 92vw);
    max-height:620px; max-width:620px;
    border-radius:50%;
    display:grid; place-items:center;
    isolation:isolate;
  }
  .orbit-ring{
    position:absolute; border-radius:50%;
    border:1px solid rgba(255,255,255,.06);
    inset:8%; pointer-events:none;
  }
  .orbit-ring.r2{inset:18%}
  .orbit-ring.r3{inset:30%}
  .orbit-ring.r4{inset:44%}

  /* center nucleus */
  .orbit-center{
    position:relative; z-index:2;
    display:flex; flex-direction:column; align-items:center; gap:10px;
    transform:translateZ(0);
  }
  .orbit-core{
    width:72px; height:72px; border-radius:50%;
    background:radial-gradient(circle at 35% 35%, var(--gold-300) 0%, var(--gold) 35%, var(--gold-700) 70%);
    box-shadow:0 0 0 1px rgba(255,255,255,.08) inset, 0 14px 34px rgba(230,195,107,.18);
  }
  .orbit-domain{
    font-size:12px; color:#cfe0ee; padding:6px 10px; border-radius:999px;
    background:rgba(255,255,255,.05); border:1px solid var(--stroke);
    white-space:nowrap;
  }

  /* nodes */
  .orbit-node{
    position:absolute; z-index:1;
    width:44px; height:44px; border-radius:999px;
    display:grid; place-items:center; cursor:pointer;
    color:#0c0f14;
    background:linear-gradient(180deg, var(--gold-300), var(--gold));
    border:1px solid rgba(255,255,255,.35);
    box-shadow:0 8px 22px rgba(0,0,0,.35);
    transition:transform .35s ease, box-shadow .35s ease, opacity .35s ease;
    user-select:none;
  }
  .orbit-node span{font-weight:700; font-size:11px; letter-spacing:.2px; color:#1b1405}
  .orbit-node:hover{box-shadow:0 12px 30px rgba(0,0,0,.45); transform:scale(1.05)}
  .orbit-node[data-size="l"]{width:56px;height:56px}
  .orbit-node[data-size="s"]{width:38px;height:38px}

  /* soft aura behind nodes */
  .orbit-node::after{
    content:""; position:absolute; inset:-8px; border-radius:inherit;
    background:radial-gradient(circle, rgba(230,195,107,.28), rgba(230,195,107,0) 60%);
    opacity:.35; transition:opacity .35s ease;
  }
  .orbit-node.is-related::after{opacity:.85}

  /* info card (hidden by default; JS will position & show) */
  .orbit-card{
    position:absolute; z-index:4; width:min(320px, 86vw);
    background:rgba(16,22,35,.9); backdrop-filter:blur(8px);
    border:1px solid rgba(255,255,255,.18); border-radius:14px;
    box-shadow:0 18px 50px rgba(0,0,0,.45);
    padding:12px 14px; transform:translate(-50%, -14px); display:none;
  }
  .orbit-card.show{display:block}
  .orbit-card .kicker{display:flex;align-items:center;gap:8px;color:#a8bacb;font-size:11px;text-transform:uppercase;letter-spacing:.25px}
  .orbit-card h3{margin:6px 0 6px;font:600 16px/1.2 "Newsreader", Georgia, serif}
  .orbit-card ul{margin:8px 0 8px 16px;padding:0;color:#cfe0ee;font-size:13px}
  .orbit-card li{margin:6px 0}
  .orbit-card .heroMetric{
    margin-top:8px;padding:10px 12px;border-radius:12px;background:rgba(230,195,107,.08);
    border:1px solid rgba(230,195,107,.25); color:var(--gold-300); font-weight:700; font-size:13px;
  }
  .orbit-card .fine{color:#9db2c5;font-size:12px;margin-top:6px}

  /* mobile safety: when card would overflow, let it center */
  @media (max-width:700px){
    .orbit-card{left:50%!important; top:auto!important; bottom:14px; transform:translate(-50%,0)}
  }

  /* MODAL (unchanged) */
  .modal{position:fixed;inset:0;background:rgba(6,10,16,.55);display:none;align-items:center;justify-content:center;z-index:20}
  .modal.show{display:flex}
  .card{width:min(980px,92vw);background:var(--panel);border:1px solid var(--stroke);border-radius:18px;box-shadow:0 30px 80px rgba(0,0,0,.45);overflow:hidden}
  .card-hd{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;background:linear-gradient(180deg,#0f1622,#0d1420);border-bottom:1px solid var(--stroke)}
  .steps{display:flex;gap:8px;align-items:center}
  .dot{width:8px;height:8px;border-radius:50%;background:#2a3444}
  .dot.on{background:var(--gold)}
  .api-badge{font-size:12px;padding:4px 8px;border-radius:10px;border:1px solid var(--stroke);color:#a8c3d8}
  .card-bd{padding:16px}
  .card-ft{display:flex;justify-content:flex-end;gap:10px;padding:14px 16px;border-top:1px solid var(--stroke)}
  .scroll{max-height:70vh;overflow:auto;padding:6px}

  /* Inputs */
  .accordion{border:1px solid var(--stroke);border-radius:14px;background:#0f1724;margin:14px 0}
  .acc-hd{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid #142031;cursor:pointer}
  .acc-hd h4{margin:0;font-size:16px}
  .acc-bd{padding:12px 14px;display:block}
  .field{margin:10px 0}
  label{display:block;font-size:13px;color:#9abbcc;margin:0 0 6px}
  input[type=text],input[type=email],input[type=tel]{width:100%;padding:12px;border-radius:12px;border:1px solid var(--stroke);background:#0d1520;color:var(--text);outline:none}
  input:focus{border-color:#385dff66;box-shadow:0 0 0 4px #2a3f5a66}

  .chips{user-select:none}
  .chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#162032;color:#cfe0ee;margin:6px 8px 0 0;border:1px solid #203041;cursor:pointer}
  .chip.active{background:#0f283c;color:#eaf7ff;border-color:#1b4862}

  .pill{padding:6px 10px;border-radius:999px;background:#0d1a26;color:#8fb0c6;font-size:12px;display:inline-block}
  .hint{font-size:12px;color:#9bb2c8}
  .x{background:transparent;color:#9fb3c6;border:none;font-size:18px;cursor:pointer}

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce){
    #heroFx{display:none}
    #constFx{display:none}
    .btn{transition:none}
  }
</style>
</head>
<body>
  <!-- HEADER -->
  <header class="site-header" aria-label="Site">
    <div class="inner">
      <!-- Left: logo-only (no wordmark) -->
      <a href="index.html" class="brand" aria-label="Home">
        <span class="brand-badge" aria-hidden="true">G</span>
      </a>

      <!-- Center: exactly 3 links -->
      <nav id="nav-primary" aria-label="Primary">
        <a class="nav-link" href="#get-started">How it works</a>
        <a class="nav-link" href="sectors.html">Sectors</a>
        <a class="nav-link" href="pricing.html">Pricing</a>
      </nav>

      <!-- Right: Login + one CTA -->
      <div class="nav-actions">
        <a class="nav-login" href="login.html">Login</a>
        <a class="nav-cta" href="#get-started" id="navStart">Start Free</a>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <!-- GALACTLY:START hero -->
  <section class="hero" aria-label="Hero">
    <canvas id="heroFx" aria-hidden="true"></canvas>
    <div class="hero-grid">
      <div class="hero-copy">
        <span class="badge">Built for packaging suppliers</span>
        <h1>Find real packaging buyers.</h1>
        <p class="lead">We filter the noise and surface real companies already signaling intent in your strengths.</p>
        <div class="actions" id="get-started">
          <button id="cta" type="button" class="btn primary">‚ú® Get qualified leads free</button>
          <a href="https://www.youtube.com" class="btn ghost" target="_blank" rel="noopener">‚ñ∂Ô∏é Watch 60-sec demo</a>
        </div>
      </div>

      <!-- Right: Lead Constellation -->
      <div class="const-wrap" aria-hidden="true">
        <span class="domainTag" id="domainTag">YourCompany.com</span>
        <canvas id="constFx"></canvas>
        <div class="const-legend">Your Website ‚Üí Signal ‚Üí Score ‚Üí Buyers</div>
        <!-- Floating buyer cards (positions driven by JS) -->
        <div class="miniCard" id="cardA">
          <div class="k">Buyer</div><div class="v" id="cardA_name">Acme Drinks Co.</div>
          <div class="k">City</div><div class="v" id="cardA_city">Chicago, IL</div>
        </div>
        <div class="miniCard" id="cardB">
          <div class="k">Buyer</div><div class="v" id="cardB_name">Northstar Foods</div>
          <div class="k">City</div><div class="v" id="cardB_city">Dallas, TX</div>
        </div>
        <div class="miniCard" id="cardC">
          <div class="k">Buyer</div><div class="v" id="cardC_name">Atlas Beauty</div>
          <div class="k">City</div><div class="v" id="cardC_city">Toronto, ON</div>
        </div>
      </div>
    </div>
  </section>
  <!-- GALACTLY:END hero -->

  <!-- ===== SECTION 2: PROOF / COUNTERS (unchanged) ===== -->
  <section class="section" id="proof" aria-label="Proof">
    <div class="inner">
      <div class="section-hd">
        <h2>Proof it works ‚Äî for <span id="proofHost" style="color:var(--gold-300)"></span></h2>
        <div class="sub">Signals ‚Üí Verified companies ‚Üí Hot buyers ‚Üí Time-to-first buyer</div>
      </div>

      <div class="proof-wrap">
        <div class="kpi-grid" id="kpiGrid">
          <div class="kpi">
            <div class="label">Signals captured</div>
            <div class="num" data-to="42000" data-format="int">0</div>
            <div class="hint">From your site + public sources</div>
          </div>
          <div class="kpi">
            <div class="label">Verified companies</div>
            <div class="num" data-to="1306" data-format="int">0</div>
            <div class="hint">Auto-deduped + enriched</div>
          </div>
          <div class="kpi">
            <div class="label">Hot buyers this week</div>
            <div class="num" data-to="87" data-format="int">0</div>
            <div class="hint">High-intent fit, ranked</div>
          </div>
          <div class="kpi">
            <div class="label">Time to first buyer</div>
            <div class="num" data-to="2.3" data-format="dec1">0</div>
            <div class="hint">Days from kickoff to signal</div>
          </div>
        </div>

        <div class="proof-cta">
          <button class="btn primary small" id="proofStart">‚ú® Start Free</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== SECTION 3: ORBIT MAP (HTML scaffold only; JS arrives in Split 2/3) ===== -->
  <section class="orbit-section" id="orbit" aria-label="Where your buyers light up">
    <div class="orbit-inner">
      <div class="orbit-hd">
        <h2>Where your buyers light up</h2>
        <div class="sub">Simple orbit map of the strongest intent signals for <span id="orbitHost" style="color:var(--gold-300)"></span></div>
      </div>

      <div class="orbit-panel">
        <div class="orbit-stage" id="orbitStage">
          <!-- concentric rings -->
          <div class="orbit-ring r1"></div>
          <div class="orbit-ring r2"></div>
          <div class="orbit-ring r3"></div>
          <div class="orbit-ring r4"></div>

          <!-- center -->
          <div class="orbit-center">
            <div class="orbit-core" aria-hidden="true"></div>
            <div class="orbit-domain" id="orbitDomain">yourcompany.com</div>
          </div>

          <!-- nodes (positions + interaction wired in Split 2/3) -->
          <button class="orbit-node" data-id="competition" data-size="l"><span>Competition</span></button>
          <button class="orbit-node" data-id="buyers"><span>Buyers</span></button>
          <button class="orbit-node" data-id="rfp"><span>RFPs &amp; Docs</span></button>
          <button class="orbit-node" data-id="buzz"><span>Market Buzz</span></button>
          <button class="orbit-node" data-id="hiring" data-size="s"><span>Hiring</span></button>
          <button class="orbit-node" data-id="heat" data-size="l"><span>Buyer&nbsp;Heat</span></button>

          <!-- info card (single reused card; JS fills content & positions) -->
          <div class="orbit-card" id="orbitCard" role="dialog" aria-modal="false" aria-live="polite">
            <div class="kicker"><span>Signal</span><span id="cardTag">‚Ä¢</span></div>
            <h3 id="cardTitle">Title</h3>
            <ul id="cardList">
              <li>Metric item</li>
            </ul>
            <div class="heroMetric" id="cardHero">Hero metric</div>
            <div class="fine" id="cardFine"></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- MODAL (Onboarding Step 1‚Äì2) -->
  <div id="modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="card" role="document">
      <div class="card-hd">
        <div class="steps" aria-label="Steps">
          <span class="dot on" data-step-dot="0"></span>
          <span class="dot" data-step-dot="1"></span>
        </div>
        <div style="display:flex;gap:10px;align-items:center">
          <span id="apiBadge" class="api-badge">Ready</span>
          <button id="close" class="x" aria-label="Close">‚úï</button>
        </div>
      </div>

      <div class="card-bd">
        <div class="scroll">

          <!-- STEP 1 -->
          <section class="step" id="step1">
            <div class="pill">Get set up in 60 seconds</div>
            <h2 style="margin:10px 0 14px;">Pick your side</h2>

            <div class="accordion">
              <div class="acc-hd" role="button" tabindex="0">
                <h4>Role</h4>
                <div class="hint">Required</div>
              </div>
              <div class="acc-bd">
                <div class="chips" id="roleChips">
                  <span id="opt-supplier" class="chip active">üôå I sell packaging (Supplier)</span>
                  <span id="opt-buyer" class="chip">üõí I buy packaging (Buyer)</span>
                </div>
              </div>
            </div>
          </section>

          <!-- STEP 2 -->
          <section class="step" id="step2" hidden>
            <div class="pill">Step 2 of 3</div>
            <h2 style="margin:10px 0 14px;">Tell us who you are</h2>

            <div class="accordion">
              <div class="acc-hd" role="button" tabindex="0">
                <h4>Contact & company</h4>
                <div class="hint">Required</div>
              </div>
              <div class="acc-bd">
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:18px">
                  <div>
                    <div class="field">
                      <label>Your name</label>
                      <input id="name" type="text" autocomplete="name" placeholder="e.g., Sam Carter">
                    </div>
                    <div class="field">
                      <label>Phone (required for alerts) *</label>
                      <input id="phone" type="tel" inputmode="tel" autocomplete="tel" placeholder="+1 555 123 4567"/>
                      <div class="hint">Include country code (e.g., ‚Äú+1‚Äù).</div>
                    </div>
                  </div>
                  <div>
                    <div class="field">
                      <label>Business email *</label>
                      <input id="email" type="email" autocomplete="email" placeholder="you@yourcompany.com" required/>
                    </div>
                    <div class="field">
                      <label>Website / Domain</label>
                      <input id="host" type="text" inputmode="url" placeholder="yourcompany.com"/>
                      <div class="hint">Auto-filled from your email. You can edit.</div>
                    </div>
                  </div>
                </div>
                <div class="hint" id="apiStatus" style="margin-top:8px">Step 3 opens in a new screen.</div>
              </div>
            </div>
          </section>

        </div>

        <div class="card-ft">
          <button id="back" class="btn ghost" type="button">Back</button>
          <button id="next" class="btn primary" type="button">Continue</button>
        </div>
      </div>
    </div>
  </div>

<script>
(()=>{
  // ------- tiny helpers -------
  const $  = (q)=>document.querySelector(q);
  const $$ = (q)=>Array.from(document.querySelectorAll(q));
  const LS = window.localStorage;
  const normHost=h=>(h||"").trim().toLowerCase().replace(/^https?:\/\//,"").replace(/^www\./,"").replace(/\/.*$/,"");
  const domainFromEmail=e=>{const m=(e||"").toLowerCase().match(/@([a-z0-9.-]+)/);return m?m[1]:""};

  // ------- elements -------
  const modal=$("#modal"), openBtn=$("#cta"), closeBtn=$("#close");
  const backBtn=$("#back"), nextBtn=$("#next"), dots=$$("[data-step-dot]");
  const emailEl=$("#email"), hostEl=$("#host"), phoneEl=$("#phone"), nameEl=$("#name");
  const optSupplier=$("#opt-supplier"), optBuyer=$("#opt-buyer");
  const apiBadge=$("#apiBadge");

  // ------- state -------
  const state={ step:0, role:"supplier" };

  // ------- nav -------
  function show(step){
    state.step=step;
    ["#step1","#step2"].forEach((id,i)=>{const el=$(id); if(!el) return; el.hidden=i!==step; dots[i]?.classList.toggle("on", i===step);});
    backBtn.style.visibility = step===0 ? "hidden" : "visible";
    nextBtn.textContent = step===0 ? "Next" : "Continue";
  }
  function open(){ modal.classList.add("show"); modal.setAttribute("aria-hidden","false"); show(0); }
  function close(){ modal.classList.remove("show"); modal.setAttribute("aria-hidden","true"); }

  // header CTA mirrors main CTA
  const navStart = document.getElementById("navStart");
  if (navStart) navStart.addEventListener("click", (e)=>{ e.preventDefault(); open(); });

  openBtn.addEventListener("click", open);
  closeBtn.addEventListener("click", close);
  backBtn.addEventListener("click", ()=> show(Math.max(0, state.step-1)));

  nextBtn.addEventListener("click", ()=>{
    if (state.step===0){ show(1); return; }
    if (state.step===1){
      if (!emailEl.value || !phoneEl.value){
        alert("Business email and phone are required."); return;
      }
      const hostCandidate = normHost(hostEl.value || domainFromEmail(emailEl.value));
      if (!hostCandidate){ alert("Please provide your website/domain (from email is fine)."); return; }

      const seed = {
        role: state.role,
        contact: { name: nameEl.value.trim(), phone: phoneEl.value.trim(), email: emailEl.value.trim() },
        host: hostCandidate
      };
      try{
        LS.setItem("onb.seed", JSON.stringify(seed));
        LS.setItem("fp.supplier.host", hostCandidate);
        LS.setItem("email", seed.contact.email);
        LS.setItem("contact.name", seed.contact.name||"");
        LS.setItem("contact.phone", seed.contact.phone||"");
      }catch{}
      window.location.href = "step3.html";
    }
  });

  // role toggles
  function setRole(r){ state.role=r; optSupplier.classList.toggle("active", r==="supplier"); optBuyer.classList.toggle("active", r==="buyer"); }
  optSupplier.addEventListener("click",()=>setRole("supplier"));
  optBuyer.addEventListener("click",()=>setRole("buyer"));

  // convenience
  function syncDomain(){
    const d=domainFromEmail(emailEl.value);
    if (d) hostEl.value=d;
    const tag=$("#domainTag"); if (tag && (d || hostEl.value)) tag.textContent = d || hostEl.value || "YourCompany.com";
    const orbitDomain=$("#orbitDomain"); const orbitHost=$("#orbitHost");
    if (orbitDomain){ orbitDomain.textContent = (d || hostEl.value || "yourcompany.com"); }
    if (orbitHost){ orbitHost.textContent = (d || hostEl.value || "yourcompany.com"); }
  }
  emailEl.addEventListener("input",syncDomain); emailEl.addEventListener("change",syncDomain); setTimeout(syncDomain, 80);

  // minimal badge
  apiBadge.textContent = "Ready";

  // keys
  modal.addEventListener("keydown",(e)=>{
    if (e.key==="Escape"){ e.preventDefault(); close(); return; }
    if (e.key==="Enter"){
      const tag=(e.target&&e.target.tagName)||"";
      if (tag==="INPUT"||tag==="TEXTAREA"||tag==="A"||tag==="BUTTON") return;
      e.preventDefault(); nextBtn.click();
    }
  });

  // ------- hero canvas aurora (lightweight) -------
  const fx = document.getElementById("heroFx");
  const noMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  if (fx && !noMotion){
    const ctx = fx.getContext("2d");
    const DPR = Math.max(1, Math.min(2, window.devicePixelRatio||1));
    function size(){ fx.width = innerWidth*DPR; fx.height = innerHeight*DPR; }
    size(); addEventListener("resize", size);
    let t=0;
    (function draw(){
      t+=0.0035;
      const w=fx.width, h=fx.height;
      ctx.clearRect(0,0,w,h);

      const g = ctx.createRadialGradient(w*0.48, h*0.28, h*0.05, w*0.5, h*0.5, h*0.82);
      g.addColorStop(0, "rgba(250,225,150,0.08)");
      g.addColorStop(1, "rgba(0,0,0,0)");
      ctx.fillStyle=g; ctx.fillRect(0,0,w,h);

      const blobs = [
        { x: 0.32 + Math.sin(t*0.9)*0.05, y: 0.36 + Math.cos(t*0.8)*0.04, r: 0.55, a: 0.18 },
        { x: 0.68 + Math.cos(t*0.7)*0.06, y: 0.55 + Math.sin(t*0.6)*0.05, r: 0.65, a: 0.14 }
      ];
      for (const b of blobs){
        const rg = ctx.createRadialGradient(w*b.x, h*b.y, 0, w*b.x, h*b.y, Math.min(w,h)*b.r);
        rg.addColorStop(0, `rgba(230,195,107,${b.a})`);
        rg.addColorStop(1, "rgba(0,0,0,0)");
        ctx.fillStyle=rg; ctx.beginPath(); ctx.arc(w*b.x, h*b.y, Math.min(w,h)*b.r, 0, Math.PI*2); ctx.fill();
      }
      requestAnimationFrame(draw);
    })();
  }

  // ------- Lead Constellation (right panel) -------
  (function(){
    const hostTag = $("#domainTag");
    const wrap = document.querySelector(".const-wrap");
    const c = document.getElementById("constFx");
    if (!wrap || !c) return;
    const cards = [
      { el: $("#cardA"), id:"A" },
      { el: $("#cardB"), id:"B" },
      { el: $("#cardC"), id:"C" },
    ];
    const cardData = [
      { name:"Acme Drinks Co.", city:"Chicago, IL" },
      { name:"Northstar Foods", city:"Dallas, TX" },
      { name:"Atlas Beauty", city:"Toronto, ON" },
      { name:"Cygnet Petcare", city:"Portland, OR" },
      { name:"Volt Homecare", city:"Denver, CO" },
    ];
    const DPR = Math.max(1, Math.min(2, window.devicePixelRatio||1));
    const ctx = c.getContext("2d");

    let W=0,H=0, nodes=[], highlights=[], t=0;
    const noMotion2 = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    function reset(){
      const rect = wrap.getBoundingClientRect();
      W = Math.max(320, Math.floor(rect.width));
      H = Math.max(260, Math.floor(rect.height));
      c.width = Math.floor(W*DPR); c.height = Math.floor(H*DPR);
      c.style.width=W+"px"; c.style.height=H+"px";
      ctx.setTransform(DPR,0,0,DPR,0,0);

      const N = 42;
      nodes = [];
      for (let i=0;i<N;i++){
        const x = 0.28 + Math.random()*0.68;
        const y = 0.06 + Math.random()*0.88;
        const s = 0.15 + Math.random()*0.85;
        const vx = (Math.random()-0.5) * 0.18;
        const vy = (Math.random()-0.5) * 0.18;
        nodes.push({x:x*W, y:y*H, s, vx, vy});
      }

      const anchor = { x: 0.18*W, y: 0.52*H };
      nodes.unshift({x:anchor.x, y:anchor.y, s:1.8, vx:0, vy:0, anchor:true });

      const candidates = nodes.filter(n=>!n.anchor && n.x>W*0.52);
      highlights = [];
      for (let i=0;i<3;i++){
        const n = candidates[Math.floor(Math.random()*candidates.length)];
        if (!n) break;
        highlights.push(n);
        const idx = candidates.indexOf(n); if (idx>=0) candidates.splice(idx,1);
      }
      const cardPoints = [highlights[0], highlights[1], highlights[2]].filter(Boolean);
      cardPoints.forEach((p, i)=>{
        const el = cards[i]?.el; if (!el) return;
        el.style.left = (p.x + (i===1? -24: 18)) + "px";
        el.style.top  = (p.y + (i===2?  24: -18)) + "px";
        const d = cardData[(Math.random()*cardData.length)|0];
        const nEl = el.querySelector(".v");
        if (nEl) nEl.textContent = d.name;
        const cityEl = el.querySelectorAll(".v")[1];
        if (cityEl) cityEl.textContent = d.city;
      });
    }

    function step(dt){
      for (let i=1;i<nodes.length;i++){
        const n = nodes[i];
        n.x += n.vx*dt; n.y += n.vy*dt;
        if (n.x < 0) n.x = W;
        if (n.x > W) n.x = 0;
        if (n.y < 0) n.y = H;
        if (n.y > H) n.y = 0;
      }
    }

    function draw(){
      ctx.clearRect(0,0,W,H);
      const grad = ctx.createLinearGradient(0,0,W,H);
      grad.addColorStop(0, "rgba(230,195,107,0.06)");
      grad.addColorStop(1, "rgba(230,195,107,0.0)");
      ctx.fillStyle=grad; ctx.fillRect(0,0,W,H);

      const R = 110;
      for (let i=0;i<nodes.length;i++){
        const a = nodes[i];
        for (let j=i+1;j<nodes.length;j++){
          const b = nodes[j];
          const dx=a.x-b.x, dy=a.y-b.y, d2=dx*dx+dy*dy;
          if (d2 < R*R){
            const aLine = 0.08 + 0.22*(1 - Math.sqrt(d2)/R);
            ctx.strokeStyle=`rgba(230,195,107,${aLine})`;
            ctx.lineWidth = 1;
            ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
          }
        }
      }

      const anchor = nodes[0];
      const pulse = 8 + Math.sin(t*0.0022)*4;
      ctx.fillStyle="rgba(230,195,107,0.16)";
      ctx.beginPath(); ctx.arc(anchor.x, anchor.y, 24+pulse, 0, Math.PI*2); ctx.fill();

      highlights.forEach(h=>{
        ctx.strokeStyle="rgba(242,220,160,0.9)";
        ctx.lineWidth=1.6;
        ctx.beginPath(); ctx.moveTo(anchor.x,anchor.y); ctx.lineTo(h.x,h.y); ctx.stroke();
      });

      for (const n of nodes){
        const r = n.anchor ? 4 : Math.max(1, 1.2*n.s);
        ctx.fillStyle = n.anchor ? "rgba(242,220,160,0.95)" : "rgba(230,195,107,0.75)";
        ctx.beginPath(); ctx.arc(n.x,n.y,r,0,Math.PI*2); ctx.fill();
      }
    }

    function loop(now){
      if (prev===0) prev=now;
      const dt = Math.min(33, now - prev) * 0.06;
      prev = now; t += dt;
      step(noMotion2 ? 0 : dt);
      draw();
      if (!noMotion2) requestAnimationFrame(loop);
      else draw();
    }

    let prev=0;
    reset(); loop(0);
    addEventListener("resize", reset);

    const d = (LS.getItem("onb.seed") && JSON.parse(LS.getItem("onb.seed")||"{}")?.host) || "";
    if (hostTag && d) hostTag.textContent = d;
  })();

  // ------- Section 2: Proof counters (animate once) -------
  (function(){
    const section = document.getElementById("proof");
    if (!section) return;

    const hostOut = document.getElementById("proofHost");
    try{
      const seed = JSON.parse(LS.getItem("onb.seed")||"{}");
      const host = seed?.host || "";
      hostOut.textContent = host || "yourcompany.com";
    }catch{ hostOut.textContent = "yourcompany.com"; }

    const noMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    const nums = Array.from(section.querySelectorAll(".num"));
    let fired = false;

    function format(v, fmt){
      if (fmt==="dec1") return v.toFixed(1);
      const s = Math.round(v).toString();
      return s.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    function animate(el){
      const to = parseFloat(el.dataset.to||"0");
      const fmt = el.dataset.format||"int";
      if (noMotion){ el.textContent = format(to, fmt); return; }

      const dur = 1200;
      const start = performance.now();
      function tick(now){
        const p = Math.min(1, (now - start)/dur);
        const ease = 1 - Math.pow(1-p, 3);
        const val = to * ease;
        el.textContent = format(val, fmt);
        if (p<1) requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    }

    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if (!fired && e.isIntersecting){
          fired = true;
          nums.forEach(animate);
          io.disconnect();
        }
      });
    }, { root:null, threshold:0.35 });

    io.observe(section);

    const proofStart = document.getElementById("proofStart");
    const openFromProof = ()=>{ const cta = document.getElementById("cta"); cta && cta.click(); };
    proofStart && proofStart.addEventListener("click", openFromProof);
  })();

  // ================== SECTION 3: ORBIT ‚Äî data + rotation/layout only ==================
  (function(){
    const stage = document.getElementById("orbitStage");
    const card  = document.getElementById("orbitCard"); // hidden until Split 3
    if (!stage) return;

    // personalize center labels from LS/email
    (function setHost(){
      const hostOut = document.getElementById("orbitHost");
      const domain  = document.getElementById("orbitDomain");
      try{
        const seed = JSON.parse(LS.getItem("onb.seed")||"{}");
        const host = seed?.host || "";
        if (hostOut) hostOut.textContent = host || "yourcompany.com";
        if (domain)  domain.textContent  = host || "yourcompany.com";
      }catch{
        if (hostOut) hostOut.textContent = "yourcompany.com";
        if (domain)  domain.textContent  = "yourcompany.com";
      }
    })();

    // Node catalog (titles cleaned)
    const nodes = [
      { id:"competition", label:"Competition", ring:0.80, size:"l", energy:80 },
      { id:"buyers",      label:"Buyers",      ring:0.80, size:"m", energy:70 },
      { id:"rfp",         label:"RFPs & Docs", ring:0.64, size:"m", energy:60 },
      { id:"buzz",        label:"Market Buzz", ring:0.50, size:"m", energy:55 },
      { id:"hiring",      label:"Hiring",      ring:0.38, size:"s", energy:45 },
      { id:"heat",        label:"Buyer Heat",  ring:0.28, size:"l", energy:85 }
    ];

    // Map buttons to nodes
    const btns = nodes.map(n=>{
      const el = stage.querySelector(`.orbit-node[data-id="${n.id}"]`);
      if (el){ el.dataset.size = n.size; }
      return { ...n, el };
    }).filter(x=>x.el);

    // rotation state (slow, premium)
    let angle = 0;
    const noMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    const center = { x: stage.clientWidth/2, y: stage.clientHeight/2 };
    function resize(){
      center.x = stage.clientWidth/2;
      center.y = stage.clientHeight/2;
      layout(0); // static layout on resize
    }
    window.addEventListener("resize", resize);

    // layout helpers
    function layout(delta){
      angle = (angle + delta) % 360;
      const TWO_PI = Math.PI*2;
      const step = TWO_PI / btns.length;
      btns.forEach((n, i)=>{
        const base = i*step;
        const a = base + (angle*Math.PI/180);
        const radius = (Math.min(stage.clientWidth, stage.clientHeight)/2) * n.ring;
        const x = center.x + radius * Math.cos(a);
        const y = center.y + radius * Math.sin(a);
        n.el.style.left = `${x}px`;
        n.el.style.top  = `${y}px`;
        // subtle depth via opacity
        const depth = (Math.sin(a)+1)/2; // 0..1
        n.el.style.opacity = String(0.55 + 0.45*depth);
        n.el.style.zIndex = String(100 + Math.round(depth*50));
      });
    }

    // animation loop (no interactions yet)
    let prev=0;
    function tick(now){
      if (!prev) prev = now;
      const dt = Math.min(33, now - prev);
      prev = now;
      layout(noMotion ? 0 : dt*0.006); // slow rotate
      if (!noMotion) requestAnimationFrame(tick);
    }

    // initial paint
    layout(0);
    if (!noMotion) requestAnimationFrame(tick);
  })();

<!-- ========== SPLIT 3: ORBIT v2 (append-only) ========== -->
<style id="orbit-v2-overrides">
  /* make Section 3 look minimal, warm, and frameless */
  #orbit .orbit-panel{
    border:none !important;
    background:
      radial-gradient(120% 120% at 20% 10%, rgba(230,195,107,.08), rgba(11,17,25,1) 55%),
      linear-gradient(180deg,#0d1520,#0c141f) !important;
    box-shadow: none !important;
  }
  /* hide old multi-ring stage completely */
  #orbit .orbit-stage:not(.orbit-stage-v2){ display:none !important; }
  /* keep exactly one ring */
  #orbit .orbit-ring{ display:none }
  #orbit .orbit-stage-v2 .orbit-ring-sole{
    position:absolute; inset:8%;
    border-radius:50%;
    border:1px solid rgba(255,255,255,.12);
    opacity:.9;
  }
  /* center glow */
  #orbit .orbit-stage-v2 .orbit-core{
    width:76px; height:76px; border-radius:50%;
    background:radial-gradient(circle at 36% 36%, var(--gold-300) 0%, var(--gold) 36%, var(--gold-700) 72%);
    box-shadow:
      0 0 0 1px rgba(255,255,255,.06) inset,
      0 18px 40px rgba(230,195,107,.22),
      0 0 60px rgba(230,195,107,.18);
    transition:filter .6s ease;
  }
  /* domain chip under the core */
  #orbit .orbit-stage-v2 .orbit-domain{
    margin-top:10px; font-size:12px; color:#cfe0ee;
    padding:6px 10px; border-radius:999px;
    background:rgba(255,255,255,.05); border:1px solid var(--stroke);
    white-space:nowrap;
  }
  /* nodes (reuse palette, gentle depth) */
  #orbit .orbit-stage-v2 .orbit-node{
    position:absolute; z-index:1;
    width:46px; height:46px; border-radius:999px;
    display:grid; place-items:center; cursor:pointer; user-select:none;
    color:#1b1405; background:linear-gradient(180deg, var(--gold-300), var(--gold));
    border:1px solid rgba(255,255,255,.35);
    box-shadow:0 8px 22px rgba(0,0,0,.35);
    transition:transform .35s ease, box-shadow .35s ease, opacity .35s ease, filter .35s ease;
  }
  #orbit .orbit-stage-v2 .orbit-node[data-size="l"]{ width:58px; height:58px }
  #orbit .orbit-stage-v2 .orbit-node[data-size="s"]{ width:38px; height:38px }
  #orbit .orbit-stage-v2 .orbit-node span{ font-weight:700; font-size:11px; letter-spacing:.2px }
  #orbit .orbit-stage-v2 .orbit-node:hover{ box-shadow:0 12px 30px rgba(0,0,0,.45); transform:scale(1.05) }
  #orbit .orbit-stage-v2 .orbit-node::after{
    content:""; position:absolute; inset:-10px; border-radius:inherit;
    background:radial-gradient(circle, rgba(230,195,107,.28), rgba(230,195,107,0) 60%);
    opacity:.35; transition:opacity .35s ease;
  }
  #orbit .orbit-stage-v2 .orbit-node.is-related::after{ opacity:.85 }

  /* info card: reuse existing #orbitCard but restyle for minimal feel */
  #orbit .orbit-card{
    background:rgba(16,22,35,.92) !important;
    border:1px solid rgba(255,255,255,.16) !important;
    border-radius:14px !important;
    box-shadow:0 18px 50px rgba(0,0,0,.45) !important;
    padding:12px 14px !important;
  }
  #orbit .orbit-card .kicker{ color:#a8bacb; font-size:11px; text-transform:uppercase; letter-spacing:.25px }
  #orbit .orbit-card h3{ margin:6px 0 6px; font:600 16px/1.2 "Newsreader", Georgia, serif }
  #orbit .orbit-card ul{ margin:8px 0 8px 16px; padding:0; color:#cfe0ee; font-size:13px }
  #orbit .orbit-card li{ margin:6px 0 }
  #orbit .orbit-card .heroMetric{
    margin-top:8px; padding:10px 12px; border-radius:12px;
    background:rgba(230,195,107,.08); border:1px solid rgba(230,195,107,.25);
    color:var(--gold-300); font-weight:700; font-size:13px;
  }
  #orbit .orbit-card .fine{ color:#9db2c5; font-size:12px; margin-top:6px }
  @media (max-width:700px){
    #orbit .orbit-card{ left:50% !important; top:auto !important; bottom:14px; transform:translate(-50%,0) !important }
  }

  /* stage sizing */
  #orbit .orbit-stage-v2{
    position:relative; isolation:isolate;
    width:min(820px, 92vw); height:min(820px, 92vw);
    max-width:620px; max-height:620px; border-radius:50%;
    display:grid; place-items:center; margin:0 auto;
  }
</style>

<script>
(()=>{
  // ===== ORBIT v2 (single ring, slow rotation, click to top + card) =====
  const panel = document.querySelector('#orbit .orbit-panel');
  if (!panel) return;

  // build a new minimal stage and hide old one
  const oldStage = panel.querySelector('.orbit-stage');
  if (oldStage) oldStage.style.display = 'none';

  const stage = document.createElement('div');
  stage.className = 'orbit-stage orbit-stage-v2';
  stage.innerHTML = `
    <div class="orbit-ring-sole" aria-hidden="true"></div>
    <div class="orbit-center">
      <div class="orbit-core" aria-hidden="true"></div>
      <div class="orbit-domain" id="orbitDomainV2"></div>
    </div>`;
  panel.appendChild(stage);

  // move the existing card into v2 so we reuse markup/aria
  const card = document.getElementById('orbitCard');
  if (card) stage.appendChild(card);

  // copy domain text from earlier or fallback
  const domainText =
    (document.getElementById('orbitDomain')?.textContent || '').trim() || 'yourcompany.com';
  const domainV2 = document.getElementById('orbitDomainV2');
  if (domainV2) domainV2.textContent = domainText;

  // data (titles cleaned + minimal bullets)
  const DATA = [
    {
      id:'competition', label:'Competition', size:'l', energy:80,
      bullets:[
        'Active packaging vendors buyers use',
        'Shared suppliers across peers',
        'Repeat-purchase patterns',
        'Approx. order sizes & MOQs',
        'Public specs & docs activity'
      ],
      hero:'Learning from competitors ‚Üí clearer fit list',
      fine:'Directional signals only; no private contracts.',
      related:['buyers','rfp']
    },
    {
      id:'buyers', label:'Buyers', size:'m', energy:70,
      bullets:[
        'Estimated demand trend (90-day)',
        'Creative volume across public channels',
        'Coarse marketing spend signals',
        'New launches, events, announcements',
        'Search interest for packaging keywords',
        'Web-wide checks every 30s'
      ],
      hero:'Buyer demand score (0‚Äì100)',
      related:['competition','buzz','heat']
    },
    {
      id:'rfp', label:'RFPs & Docs', size:'m', energy:60,
      bullets:[
        'New RFP mentions for packaging',
        'Spec-sheet downloads & doc trails',
        'Vendor-list updates / shortlists',
        'Directory changes'
      ],
      hero:'Active RFP threads this week',
      related:['buyers','competition']
    },
    {
      id:'buzz', label:'Market Buzz', size:'m', energy:55,
      bullets:[
        'News & PR momentum',
        'Industry/forum mentions',
        'Keyword velocity & share of voice',
        'Trade-show activity'
      ],
      hero:'Buzz index',
      related:['buyers']
    },
    {
      id:'hiring', label:'Hiring', size:'s', energy:45,
      bullets:[
        'Ops & procurement roles posted',
        'Packaging engineer openings',
        'Manufacturing capacity roles'
      ],
      hero:'Hiring momentum',
      related:['buyers']
    },
    {
      id:'heat', label:'Buyer Heat', size:'l', energy:85,
      bullets:[
        'Cool: target audience, low readiness',
        'Warm: intent signals present',
        'Hot: time-sensitive purchase behavior',
        'Hot+: we can automatically sell for you'
      ],
      hero:'Hot / Hot+ buyers surfaced first',
      related:['buyers']
    }
  ];

  // create nodes laid out on one ring
  const nodes = DATA.map((d, i) => {
    const b = document.createElement('button');
    b.className = 'orbit-node';
    b.dataset.id = d.id;
    if (d.size && d.size !== 'm') b.dataset.size = d.size; // s or l
    b.innerHTML = `<span>${d.label}</span>`;
    stage.appendChild(b);
    return { ...d, el: b, baseAngle: (i / DATA.length) * (Math.PI * 2) };
  });

  // gentle rotation + ‚Äúsnap selected to top‚Äù
  let angle = -Math.PI / 2;       // top of circle
  let targetAngle = angle;
  let activeId = null;

  function layout(){
    const rect = stage.getBoundingClientRect();
    const cx = rect.width / 2, cy = rect.height / 2;
    const R = Math.min(cx, cy) * 0.68;

    nodes.forEach(n => {
      const a = n.baseAngle + angle;
      const x = cx + R * Math.cos(a);
      const y = cy + R * Math.sin(a);
      n.el.style.left = x + 'px';
      n.el.style.top  = y + 'px';

      const depth = (Math.sin(a) + 1) / 2; // 0..1
      n.el.style.opacity = String(0.55 + 0.45 * depth);
      n.el.style.zIndex = String(100 + Math.round(depth * 50));
      n.el.classList.toggle('is-related', !!activeId && (n.related||[]).includes(activeId));
    });

    // place/open card at the top when active
    if (activeId && card){
      const topX = cx, topY = cy - R - 10;
      card.style.left = `${topX}px`;
      card.style.top  = `${topY}px`;
    }
  }

  function step(){
    angle += (targetAngle - angle) * 0.075; // eased rotation
    layout();
    requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
  window.addEventListener('resize', layout);

  function rotateNodeToTop(n){
    const current = n.baseAngle + angle;
    const desired = -Math.PI / 2; // top
    // shortest signed delta: wrap into [-PI, PI]
    const TWO = Math.PI * 2;
    const delta = ((desired - current + 3*Math.PI) % TWO) - Math.PI;
    targetAngle = angle + delta;
  }

  function fillCard(n){
    if (!card) return;
    // header bits
    document.getElementById('cardTag')?.replaceChildren(document.createTextNode('‚Ä¢'));
    document.getElementById('cardTitle')?.replaceChildren(document.createTextNode(n.label));
    // bullets
    const list = document.getElementById('cardList');
    if (list){
      list.innerHTML = n.bullets.map(item => `<li>${item}</li>`).join('');
    }
    // hero metric + fine
    const hero = document.getElementById('cardHero'); if (hero) hero.textContent = n.hero || '';
    const fine = document.getElementById('cardFine'); if (fine) fine.textContent = n.fine || '';
    card.classList.add('show');
  }

  function clearCard(){
    if (card) card.classList.remove('show');
    activeId = null;
  }

  // interactions
  nodes.forEach(n=>{
    n.el.addEventListener('click', (e)=>{
      e.stopPropagation();
      activeId = n.id;
      rotateNodeToTop(n);
      fillCard(n);
    });
  });

  // close card on background click
  stage.addEventListener('click', (e)=>{
    if (e.target === stage || e.target.classList.contains('orbit-ring-sole')) clearCard();
  });

  // personalize section subtitle (already done earlier; this is a safety pass)
  const orbitHost = document.getElementById('orbitHost');
  if (orbitHost && !orbitHost.textContent) orbitHost.textContent = domainText;

  // initial paint
  layout();
})();
</script>
</body>
</html>


