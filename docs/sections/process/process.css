/* docs/sections/process/process.css — Linear Track v4 */
/* Palette hooks from your index.html root vars */
:root{
  --p-bg: #0b1119;
  --p-stroke: rgba(255,255,255,.08);
  --p-soft: rgba(255,255,255,.04);
  --p-text: #e9f1f7;
  --p-muted:#97abc0;
  --p-gold:#e6c36b;
  --p-gold-300:#f2dca0;
  --p-gold-700:#b8913d;
}

#section-process { isolation:isolate; }

.proc-section{
  padding: 72px 16px 48px;
  background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(11,17,25,.20) 100%);
  border-top: 1px solid var(--p-stroke);
}
.proc-inner{ max-width:1140px; margin:0 auto; }

.proc-hd h2{
  margin:0 0 8px; color:var(--p-text);
  font:600 clamp(22px,3.4vw,30px) "Newsreader", Georgia, serif;
}
.proc-hd .sub{ color:var(--p-muted); }

/* Stage + Rail layout */
@media (min-width:901px){
  .proc-inner{
    display:grid; grid-template-columns: 1.15fr 0.85fr; gap:28px; align-items:start;
  }
}
@media (max-width:900px){
  .proc-inner{ display:block; }
}

.proc-stage{ position:relative; min-height:620px; background:transparent; }
.proc-canvas{ position:relative; width:100%; height:100%; }

/* SVG links (base) */
.proc-svg{ position:absolute; inset:0; width:100%; height:100%; pointer-events:none; }
.proc-svg path{
  stroke: rgba(255,255,255,.10);
  stroke-width: 1;
  fill: none;
}
.proc-svg path[stroke^="url("]{
  /* the highlighted hand-off line added last from JS */
  stroke-width: 2.2;
  filter: drop-shadow(0 0 10px rgba(242,220,160,.35));
}

/* Column titles (absolute positions are set by JS) */
.proc-col-title{
  position:absolute !important;
  left:0; top:0; transform: translate(-50%, -50%);
  padding:8px 12px; border-radius:999px;
  background: rgba(255,255,255,.05);
  border:1px solid var(--p-stroke);
  color:#cfe0ee; font-weight:700; font-size:14px; letter-spacing:.2px;
  white-space:nowrap; box-shadow:0 8px 24px rgba(0,0,0,.25);
}

/* Node chips — absolute; JS sets left/top */
.proc-node{
  position:absolute !important;
  left:0; top:0; transform: translate(-50%, -50%);
  display:inline-flex; align-items:center; gap:.6rem;
  padding:10px 14px; border-radius:999px;
  background: linear-gradient(180deg, rgba(12,18,28,.92), rgba(12,18,28,.86));
  border:1px solid var(--p-stroke);
  color:var(--p-text); font-weight:600; font-size:14px;
  box-shadow: 0 10px 30px rgba(0,0,0,.30), 0 0 0 1px rgba(255,255,255,.04) inset;
  transition: transform .18s ease, box-shadow .18s ease, filter .18s ease, opacity .18s ease;
  cursor:pointer;
}
.proc-node .ico{ opacity:.85; }
.proc-node:hover, .proc-node:focus-visible{
  transform: translate(-50%, -50%) translateY(-2px);
  box-shadow: 0 14px 34px rgba(0,0,0,.35), 0 0 0 1px rgba(255,255,255,.06) inset;
  outline: none;
}

/* Result card (absolute; anchor to last column by JS) */
.proc-result{
  position:absolute !important;
  left:0; top:0; transform: translate(-50%, -50%);
  min-width: 260px; max-width: 320px;
  padding:14px 16px; border-radius:14px;
  background: rgba(12,18,28,.92);
  border:1px solid var(--p-stroke);
  color:#d5e4f2; box-shadow:0 12px 36px rgba(0,0,0,.38);
}
.proc-result h4{
  margin:0 0 8px; font-size:15px; letter-spacing:.2px; color:var(--p-gold-300);
}
.proc-result ul{ margin:0; padding-left:18px; color:#b9ccde; }
.proc-result li{ margin:6px 0; }

/* Right rail */
.proc-rail{
  position:relative; padding-left:28px; border-left:1px solid rgba(255,255,255,.14);
}
@media (min-width:901px){
  .proc-rail{ position:sticky; top:84px; height:calc(100svh - 84px); overflow:auto; }
}
.proc-step{ position:relative; padding:14px 10px 14px 28px; }
.proc-step + .proc-step{ border-top:1px dashed rgba(255,255,255,.06); }
.proc-step h3{ margin:0 0 4px; font-size:16px; }
.proc-step p{ margin:0; color:var(--p-muted); font-size:14px; }
.proc-bullet{
  position:absolute; left:0; top:18px; width:10px; height:10px; border-radius:999px;
  background: radial-gradient(circle at 40% 40%, var(--p-gold-300), var(--p-gold-700));
  box-shadow:0 0 0 2px rgba(255,255,255,.12);
}
.proc-step.is-current h3{ color:#ffffff; }
.proc-step.is-done h3{ color:#cfe0ee; opacity:.95; }
.proc-progress{
  position:absolute; left:-1px; top:0; width:2px; height:0;
  background: linear-gradient(180deg, var(--p-gold-300), var(--p-gold-700));
  box-shadow:0 0 10px rgba(230,195,107,.35);
}

/* Mobile: stack rail below stage */
@media (max-width:900px){
  .proc-rail{ border-left:none; padding-left:0; margin-top:28px; }
}