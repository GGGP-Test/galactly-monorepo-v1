/* docs/sections/process/process.css */
/* Score Carousel â€“ 3D ribbon of category panels */
.proc3{
  /* Local tokens (fall back to your site tokens where possible) */
  --railW: 380px;
  --topStick: 96px;
  --card: var(--panel, #0c1420);
  --stroke: var(--stroke, #1b2531);
  --muted: #8ea7bd;
  --chip: #0e1930;
  --gold: var(--gold, #e6c36b);
  --gold-300: var(--gold-300, #f2dca0);
  --glow: rgba(230,195,107,.16);

  padding: 72px 16px;
}
.proc3 .inner{ max-width:1140px; margin:0 auto; }
.proc3-hd h2{ margin:0 0 6px; font:600 clamp(22px,3.6vw,30px) "Newsreader", Georgia, serif; }
.proc3-hd .sub{ color:var(--muted); font-size:14px; margin-bottom:18px; }

.proc3-grid{
  display:grid;
  grid-template-columns: var(--railW) 1fr;
  gap:24px;
  align-items:start;
}

/* -------- Left rail -------- */
.proc3-rail{ position:sticky; top:var(--topStick); padding:14px 0; }
.proc3-steps{ position:relative; margin-left:22px; }
.proc3-progress{
  position:absolute; left:9px; top:0; bottom:0; width:2px;
  background:linear-gradient(180deg,var(--glow),transparent);
  border-radius:2px; opacity:.7;
}
.proc3-step{ position:relative; padding:12px 0 14px; }
.proc3-step h3{ margin:0 0 4px; font-weight:800; font-size:16px; }
.proc3-step p{ margin:0; color:var(--muted); font-size:14px; }
.proc3-bullet{
  position:absolute; left:-22px; top:18px; width:9px; height:9px; border-radius:50%;
  background:radial-gradient(circle at 40% 40%, var(--glow), #fff0);
  box-shadow:0 0 0 2px rgba(255,255,255,.06);
}
.proc3-step.is-current h3{ color:#fff; }
.proc3-step.is-current .proc3-bullet{
  box-shadow:0 0 0 3px rgba(230,195,107,.25), 0 0 12px rgba(230,195,107,.45);
  background:radial-gradient(circle at 40% 40%, var(--gold-300), #fff0);
}
.proc3-step.is-done .proc3-bullet{ background:#9aacc0; }

/* -------- Stage / 3D belt -------- */
.proc3 .stage{
  position:relative; height:520px; border-radius:16px;
  background:
    radial-gradient(1200px 520px at 60% 40%, rgba(230,195,107,.08), transparent 60%),
    linear-gradient(180deg,#0b121d,#0b1119);
  border:1px solid var(--stroke);
  overflow:hidden;
  cursor:grab;
}
.proc3 .stage:active{ cursor:grabbing; }

.proc3 .r3d-wrap{ position:absolute; inset:0; perspective:1200px; perspective-origin:60% 50%; }
.proc3 .r3d-belt{
  position:absolute; left:50%; top:50%;
  transform-style:preserve-3d;
  transition:transform .9s cubic-bezier(.2,.8,.2,1);
  will-change:transform;
}

/* -------- Panels (cards on the ring) -------- */
.proc3 .panel{
  position:absolute; width:380px; transform-style:preserve-3d;
  border:1px solid var(--stroke); border-radius:16px; padding:12px; color:#dbe8f5;
  background:linear-gradient(180deg, #0e1726, #0b1322);
  box-shadow:
    0 20px 60px rgba(0,0,0,.35),
    0 0 0 1px rgba(255,255,255,.05) inset;
  -webkit-backface-visibility:hidden; backface-visibility:hidden;
}
.proc3 .panel::after{
  /* soft glassy highlight */
  content:""; position:absolute; inset:-1px;
  background:linear-gradient(180deg, rgba(255,255,255,.04), transparent 30%, transparent 70%, rgba(255,255,255,.03));
  border-radius:16px; pointer-events:none;
}
.proc3 .panel .ph{ display:flex; align-items:center; gap:10px; margin:2px 0 10px; font-weight:800; }
.proc3 .panel .pill{
  font-size:12px; border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.03); padding:6px 10px; border-radius:999px;
}
.proc3 .panel .chips{ display:grid; grid-template-columns:1fr; gap:8px; }

/* Chips */
.proc3 .chip{
  display:flex; align-items:center; gap:8px; padding:10px 12px; border-radius:999px;
  border:1px solid rgba(255,255,255,.06);
  background:linear-gradient(180deg, var(--chip), #0a1524);
  box-shadow:0 8px 18px rgba(0,0,0,.25);
  color:#d7e6f3;
}
.proc3 .chip .ico{ width:18px; text-align:center; opacity:.95; }
.proc3 .chip:focus-visible{ outline:none; box-shadow:0 0 0 3px rgba(230,195,107,.35); }
.proc3 .chip:hover{ filter:brightness(1.05); }

/* Emphasis for the panel at front */
.proc3 .panel.is-front{
  box-shadow:
    0 30px 90px rgba(230,195,107,.18),
    0 0 0 1px rgba(230,195,107,.18) inset;
}
.proc3 .panel.dim .chip{ opacity:.35; filter:grayscale(.25); }

/* Result panel specifics */
.proc3 .panel.result{
  background:linear-gradient(180deg, #0f1d2e, #0c1626);
}
.proc3 .panel.result h4{ margin:6px 0 6px; }
.proc3 .panel.result ul{ margin:4px 0 0; padding-left:18px; }

/* Tip */
.proc3 .stage-tip{
  position:absolute; right:12px; bottom:12px; font-size:12px; color:var(--muted);
  background:rgba(255,255,255,.04); border:1px solid var(--stroke);
  border-radius:10px; padding:6px 8px;
}

/* -------- Responsive -------- */
@media (max-width: 1180px){
  .proc3{ --railW: 340px; }
}
@media (max-width: 980px){
  .proc3{ --railW: 100%; }
  .proc3-grid{ grid-template-columns:1fr; }
  .proc3-rail{ position:static; }
  .proc3 .stage{ height:520px; }
}
@media (max-width: 760px){
  .proc3 .panel{ width:320px; }
  .proc3 .stage{ height:500px; }
}
@media (max-width: 640px){
  .proc3 .panel{ width:300px; }
}

/* -------- Reduced motion -------- */
@media (prefers-reduced-motion: reduce){
  .proc3 .r3d-belt{ transition:none; }
  .proc3 .chip{ transition:none; }
}